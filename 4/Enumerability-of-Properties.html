<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å±æ€§çš„æšä¸¾æ€§ | Deep JavaScript</title>
    <meta name="description" content="A book in the depths of JavaScript">
    <link rel="stylesheet" href="/deep-javascript-cn/assets/style.49790c05.css">
    <link rel="modulepreload" href="/deep-javascript-cn/assets/app.1f1ae7ae.js">
    <link rel="modulepreload" href="/deep-javascript-cn/assets/4_Enumerability-of-Properties.md.d7e91925.lean.js">
    
    <link rel="icon" href="/favicon.ico">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6b5fd0a9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-45f6ae50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-45f6ae50> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6b5fd0a9 data-v-0e356168><div class="VPNavBar has-sidebar" data-v-0e356168 data-v-8856f192><div class="container" data-v-8856f192><div class="VPNavBarTitle has-sidebar" data-v-8856f192 data-v-6a6f7ff6><a class="title" href="/deep-javascript-cn/" data-v-6a6f7ff6><!--[--><img class="VPImage logo" src="/deep-javascript-cn/js.svg" data-v-73ae1788><!--]--><!--[-->Deep JavaScript<!--]--></a></div><div class="content" data-v-8856f192><!----><!----><!----><div class="VPNavBarAppearance appearance" data-v-8856f192 data-v-311055f2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-311055f2 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-8856f192 data-v-0562f5c0 data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8dccea88><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8dccea88><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><!----><!--[--><!--[--><!----><div class="group" data-v-0562f5c0><div class="item appearance" data-v-0562f5c0><p class="label" data-v-0562f5c0>Appearance</p><div class="appearance-action" data-v-0562f5c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0562f5c0 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8856f192 data-v-6f008456><span class="container" data-v-6f008456><span class="top" data-v-6f008456></span><span class="middle" data-v-6f008456></span><span class="bottom" data-v-6f008456></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-6b5fd0a9 data-v-92b0f14a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-92b0f14a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-92b0f14a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-92b0f14a>Menu</span></button><a class="top-link" href="#" data-v-92b0f14a> Return to top </a></div><aside class="VPSidebar" data-v-6b5fd0a9 data-v-55e4c7db><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-55e4c7db><span class="visually-hidden" id="sidebar-aria-label" data-v-55e4c7db> Sidebar Navigation </span><!--[--><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>â…¡.ç±»å‹ï¼Œå€¼ï¼Œå’Œå˜é‡</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/deep-javascript-cn/2/Type-coercion-in-JavaScript.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.âš¡JSä¸­çš„ç±»å‹å¼ºè½¬</span><!--]--><!----></a><a class="VPLink link" href="/deep-javascript-cn/2/The-destructuring-algorithm.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.è§£æ„ç®—æ³•</span><!--]--><!----></a><a class="VPLink link" href="/deep-javascript-cn/2/Environments-under-the-hood-of-variables.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.âš¡ç¯å¢ƒ-å˜é‡èƒŒåçš„åŸç†</span><!--]--><!----></a><a class="VPLink link" href="/deep-javascript-cn/2/A-detailed-look-at-global-variables.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.âš¡æ·±å…¥ç†è§£å…¨å±€å˜é‡</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>â…¢.æ•°æ®å¤„ç†</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>â…£.OOPï¼šå¯¹è±¡å±æ€§ç‰¹æ€§</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/deep-javascript-cn/4/Property-attributes-an-Introduction.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>10.âš¡å±æ€§ç‰¹æ€§ä»‹ç»</span><!--]--><!----></a><a class="VPLink link" href="/deep-javascript-cn/4/Protecting-objects-from-changed.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>11.ä¿æŠ¤å¯¹è±¡æ›´æ”¹</span><!--]--><!----></a><a class="VPLink link" href="/deep-javascript-cn/4/Properties-assignment-vs-definition.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>12.âš¡å±æ€§èµ‹å€¼å’Œå±æ€§å®šä¹‰</span><!--]--><!----></a><a class="VPLink link active" href="/deep-javascript-cn/4/Enumerability-of-Properties.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>13.å±æ€§çš„å¯æšä¸¾æ€§</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>â…¤.OOPæŠ€æœ¯</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/deep-javascript-cn/5/Techniques-for-instantiating-classes.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>14.âš¡å®ä¾‹åŒ–ç±»æŠ€æœ¯ï¼ˆå¼‚æ­¥å±æ€§ï¼‰</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>â…¥.æ­£åˆ™è¡¨è¾¾å¼</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>â…¦.å…¶å®ƒè¯é¢˜ï¼šå…ƒç¼–ç¨‹</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/deep-javascript-cn/7/Metaprogramming-with-Proxies.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>20.âš¡ä½¿ç”¨Proxiesè¿›è¡Œå…ƒç¼–ç¨‹</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6b5fd0a9 data-v-a4c57a06><div class="VPDoc has-sidebar" data-v-a4c57a06 data-v-79ca2460><div class="container" data-v-79ca2460><div class="aside" data-v-79ca2460><div class="aside-curtain" data-v-79ca2460></div><div class="aside-container" data-v-79ca2460><div class="aside-content" data-v-79ca2460><div class="VPDocAside" data-v-79ca2460 data-v-779d834d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-779d834d data-v-51e5a8ce><div class="content" data-v-51e5a8ce><div class="outline-marker" data-v-51e5a8ce></div><div class="outline-title" data-v-51e5a8ce>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-51e5a8ce><span class="visually-hidden" id="doc-outline-aria-label" data-v-51e5a8ce> Table of Contents for current page </span><ul class="root" data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link" href="#_1ï¸âƒ£-å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„" data-v-51e5a8ce>1ï¸âƒ£ å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_2ï¸âƒ£-é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§" data-v-51e5a8ce>2ï¸âƒ£ é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_3ï¸âƒ£-å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯" data-v-51e5a8ce>3ï¸âƒ£ å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_4ï¸âƒ£-æ€»ç»“" data-v-51e5a8ce>4ï¸âƒ£ æ€»ç»“</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-779d834d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-79ca2460><div class="content-container" data-v-79ca2460><!--[--><!--]--><main class="main" data-v-79ca2460><div style="position:relative;" class="vp-doc _deep-javascript-cn_4_Enumerability-of-Properties" data-v-79ca2460><div><p>ç›®å½•ï¼š</p><nav class="table-of-contents"><ul><li><a href="#_1ï¸âƒ£-å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„">1ï¸âƒ£ å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„</a><ul><li><a href="#_1-1-â­åªè€ƒè™‘å¯æšä¸¾å±æ€§çš„æ“ä½œ">1.1 â­åªè€ƒè™‘å¯æšä¸¾å±æ€§çš„æ“ä½œ</a></li><li><a href="#_1-2-â­åŒæ—¶è€ƒè™‘å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„æ“ä½œ">1.2 â­åŒæ—¶è€ƒè™‘å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„æ“ä½œ</a></li><li><a href="#_1-3-å†…çœæ“ä½œå‘½åè§„åˆ™">1.3 å†…çœæ“ä½œå‘½åè§„åˆ™</a></li></ul></li><li><a href="#_2ï¸âƒ£-é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§">2ï¸âƒ£ é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§</a></li><li><a href="#_3ï¸âƒ£-å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯">3ï¸âƒ£ å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯</a><ul><li><a href="#_3-1-ä½¿ç”¨åœºæ™¯ï¼šå¯¹-for-in-å¾ªç¯éšè—å±æ€§">3.1 ä½¿ç”¨åœºæ™¯ï¼šå¯¹ for-in å¾ªç¯éšè—å±æ€§</a></li><li><a href="#_3-2-ä½¿ç”¨åœºæ™¯ï¼šå°†å±æ€§æ ‡è®°ä¸ºä¸å¯æ‹·è´">3.2 ä½¿ç”¨åœºæ™¯ï¼šå°†å±æ€§æ ‡è®°ä¸ºä¸å¯æ‹·è´</a></li><li><a href="#_3-3-å°†å±æ€§æ ‡è®°ä¸ºç§æœ‰">3.3 å°†å±æ€§æ ‡è®°ä¸ºç§æœ‰</a></li><li><a href="#_3-4-json-stringify-éšè—è‡ªå·±çš„å±æ€§">3.4 JSON.stringify()éšè—è‡ªå·±çš„å±æ€§</a></li></ul></li><li><a href="#_4ï¸âƒ£-æ€»ç»“">4ï¸âƒ£ æ€»ç»“</a></li></ul></nav><p>å¯æšä¸¾æ€§æ˜¯å¯¹è±¡å±æ€§çš„ä¸€ä¸ª <em>ç‰¹æ€§ï¼ˆ<code>attribute</code>ï¼‰</em>ã€‚æœ¬ç« å°†æ›´è¿›ä¸€æ­¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Œä»¥åŠå®ƒå¦‚ä½•å½±å“ <code>Object.keys()</code> &amp; <code>Object.assign()</code> è¿™äº›æ“ä½œçš„ã€‚</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>å‰ç½®çŸ¥è¯†ï¼šå±æ€§ç‰¹æ€§(Property Attributes)</p></div><p id="1"></p><h2 id="_1ï¸âƒ£-å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„" tabindex="-1">1ï¸âƒ£ å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„ <a class="header-anchor" href="#_1ï¸âƒ£-å¯æšä¸¾æ€§æ˜¯å¦‚ä½•å½±å“å±æ€§è¿­ä»£æ„é€ çš„" aria-hidden="true">#</a></h2><p>ä¸ºäº†æ¼”ç¤ºå„ç§æ“ä½œå¦‚ä½•è¢«å¯æšä¸¾æ€§å½±å“çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢å¯¹è±¡ <code>obj</code>ï¼Œå®ƒçš„åŸå‹æ˜¯ <code>proto</code>ã€‚</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><div class="highlighted">Â </div><br><br><br><div class="highlighted">Â </div><br><br><br><div class="highlighted">Â </div><br><br><br><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// åŸå‹</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> protoEnumSymbolKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> protoNonEnumSymbolKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoNonEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> proto </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">protoEnumStringKey</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// å­—ç¬¦ä¸²å¯æšä¸¾key</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// å¯æšä¸¾</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">protoEnumSymbolKey</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// symbolå¯æšä¸¾key</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoEnumSymbolKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">protoNonEnumStringKey</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// å­—ç¬¦ä¸²ä¸å¯æšä¸¾key</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoNonEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ä¸å¯æšä¸¾</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">protoNonEnumSymbolKey</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// symbolä¸å¯æšä¸¾key</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoNonEnumSymbolKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> objEnumSymbolKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> objNonEnumSymbolKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(proto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">objEnumStringKey</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">objEnumSymbolKey</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumSymbolKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">objNonEnumStringKey</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">objNonEnumSymbolKey</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumSymbolKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p id="1.1"></p><h3 id="_1-1-â­åªè€ƒè™‘å¯æšä¸¾å±æ€§çš„æ“ä½œ" tabindex="-1">1.1 â­åªè€ƒè™‘å¯æšä¸¾å±æ€§çš„æ“ä½œ <a class="header-anchor" href="#_1-1-â­åªè€ƒè™‘å¯æšä¸¾å±æ€§çš„æ“ä½œ" aria-hidden="true">#</a></h3><p>ğŸ‘©ğŸ»â€ğŸ« å¿½ç•¥ä¸å¯æšä¸¾å±æ€§çš„æ“ä½œï¼š</p><table><thead><tr><th>æ“ä½œ</th><th></th><th style="text-align:center;">Stringé”®</th><th style="text-align:center;">Symbolé”®</th><th style="text-align:center;">ç»§æ‰¿çš„</th></tr></thead><tbody><tr><td>Object.keys()</td><td>ES5</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">ğŸš«</td></tr><tr><td>Object.values()</td><td>ES2017</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">ğŸš«</td></tr><tr><td>Object.entries()</td><td>ES2017</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">ğŸš«</td></tr><tr><td css-module=".x">Spreading</td><td>ES2018</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td></tr><tr><td>Object.assign()</td><td>ES6</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td></tr><tr><td>JSON.stringify()</td><td>ES5</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">ğŸš«</td></tr><tr><td>for-in</td><td>ES1</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">âœ…</td></tr></tbody></table><p>ä¸‹é¢æ“ä½œï¼ˆğŸ‘†ğŸ»è¡¨ï¼‰åªè€ƒè™‘å¯æšä¸¾å±æ€§ï¼š</p><ul><li><p><code>Object.keys()</code> è¿”å›è‡ªèº«å¯æšä¸¾çš„å­—ç¬¦ä¸²keys</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>Object.values()</code> è¿”å›è‡ªèº«å¯æšä¸¾çš„å­—ç¬¦ä¸²å±æ€§çš„å€¼</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">values</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>Object.entries()</code> è¿”å›è‡ªèº«å¯æšä¸¾å­—ç¬¦ä¸²å±æ€§çš„ key-value å¯¹ã€‚ï¼ˆæ³¨æ„ <code>Object.fromEntries()</code> å¯ä»¥æ¥æ”¶ <code>symbols</code> ä½œä¸ºkeysï¼Œä½†æ˜¯åªåˆ›å»ºå¯æšä¸¾å±æ€§ï¼‰</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">entries</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">[[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]]</span></span>
<span class="line"></span></code></pre></div></li><li><p>å¯¹è±¡å­—é¢é‡å±•å¼€æ“ä½œç¬¦ï¼ˆ<code>Spreading {...x}</code>ï¼‰åªè€ƒè™‘è‡ªèº«å¯æšä¸¾å±æ€§ï¼ˆstrings keys æˆ– symbols keys ğŸ˜ï¼‰</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> copy </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">obj </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">Reflect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ownKeys</span><span style="color:#A6ACCD;">(copy)</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>JSON.stringify()</code> åªå­—ç¬¦ä¸²åŒ–è‡ªèº«å¯æšä¸¾çš„å­—ç¬¦ä¸²keys</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;objEnumStringKey&quot;:&quot;objEnumStringKeyValue&quot;}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>for-in</code> å¾ªç¯éå† <strong>è‡ªèº«æˆ–ç»§æ‰¿çš„</strong> å¯æšä¸¾çš„å­—ç¬¦ä¸²é”®å±æ€§ğŸ¤©ï¼ˆè¯‘è€…æ³¨ï¼šå”¯ä¸€åŒ…å«ç»§æ‰¿çš„å±æ€§è¿­ä»£æ“ä½œï¼ï¼ï¼ï¼‰</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> propKeys </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸš€ ç»§æ‰¿çš„å¯æšä¸¾å­—ç¬¦ä¸²å±æ€§ä¹Ÿä¼šè¢«éå†</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> propKey </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> obj) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">propKeys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">propKey</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  propKeys</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å¯ä»¥çœ‹å‡º åŸå‹ ä¸Šçš„å¯æšä¸¾å­—ç¬¦ä¸²key ä¹Ÿè¢«éå†äº† ğŸ˜</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">protoEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ğŸ’¡ <code>for-in</code> æ˜¯å”¯ä¸€èƒ½å¯¹ç»§æ‰¿çš„å¯æšä¸¾å­—ç¬¦ä¸²é”®å±æ€§æœ‰å½±å“çš„æ“ä½œã€‚å…¶ä½™æ‰€æœ‰æ“ä½œéƒ½<strong>åªå¯¹è‡ªèº«å±æ€§</strong>æœ‰æ•ˆã€‚</p></div><p id="1.2"></p><h3 id="_1-2-â­åŒæ—¶è€ƒè™‘å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„æ“ä½œ" tabindex="-1">1.2 â­åŒæ—¶è€ƒè™‘å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„æ“ä½œ <a class="header-anchor" href="#_1-2-â­åŒæ—¶è€ƒè™‘å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„æ“ä½œ" aria-hidden="true">#</a></h3><p>ğŸ‘©ğŸ»â€ğŸ« åŒæ—¶è€ƒè™‘å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„æ“ä½œï¼š</p><table><thead><tr><th style="text-align:left;">æ“ä½œ</th><th></th><th style="text-align:center;">Stringé”®</th><th style="text-align:center;">Symbolé”®</th><th style="text-align:center;">ç»§æ‰¿çš„</th></tr></thead><tbody><tr><td style="text-align:left;">Object.getOwnPropertyNames()</td><td>ES5</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">ğŸš«</td></tr><tr><td style="text-align:left;">Object.getOwnPropertySymbols()</td><td>ES6</td><td style="text-align:center;">ğŸš«</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td></tr><tr><td style="text-align:left;">Reflect.ownKeys()</td><td>ES6</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td></tr><tr><td style="text-align:left;">Object.getOwnPropertyDescriptors()</td><td>ES2017</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">ğŸš«</td></tr></tbody></table><p>ä¸‹é¢æ“ä½œï¼ˆğŸ‘†ğŸ»è¡¨ï¼‰æ—¢è€ƒè™‘å¯æšä¸¾å±æ€§ï¼Œä¹Ÿè€ƒè™‘ä¸å¯æšä¸¾å±æ€§ï¼š</p><ul><li><p><code>Object.getOwnPropertyNames()</code> åˆ—ä¸¾å‡ºæ‰€æœ‰ <strong>è‡ªèº«</strong> å­—ç¬¦ä¸²å±æ€§keys</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyNames</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>Object.getOwnPropertySymbols()</code> åˆ—ä¸¾å‡ºæ‰€æœ‰ <strong>è‡ªèº«</strong> Symbol-keys å±æ€§é”®</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertySymbols</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>Reflect.keys()</code> åˆ—ä¸¾å‡ºæ‰€æœ‰çš„è‡ªèº«å±æ€§keys ğŸš€</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Reflect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumStringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumSymbolKey</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>Object.getOwnPropertyDescriptors()</code> åˆ—ä¸¾å‡ºæ‰€æœ‰è‡ªèº«å±æ€§æè¿°å™¨</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">objEnumStringKey</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">objNonEnumStringKey</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumStringKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  [</span><span style="color:#A6ACCD;">objEnumSymbolKey</span><span style="color:#F07178;">]: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objEnumSymbolKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  [</span><span style="color:#A6ACCD;">objNonEnumSymbolKey</span><span style="color:#F07178;">]: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">objNonEnumSymbolKeyValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div></li></ul><p id="1.3"></p><h3 id="_1-3-å†…çœæ“ä½œå‘½åè§„åˆ™" tabindex="-1">1.3 å†…çœæ“ä½œå‘½åè§„åˆ™ <a class="header-anchor" href="#_1-3-å†…çœæ“ä½œå‘½åè§„åˆ™" aria-hidden="true">#</a></h3><p><strong>å†…çœï¼ˆ<code>introspection</code>ï¼‰</strong> ä½¿ç¨‹åºèƒ½åœ¨è¿è¡Œæ—¶æ£€æµ‹å€¼çš„ç»“æ„ã€‚è¿™æ˜¯ä¸€ç§<strong>å…ƒç¼–ç¨‹</strong>ï¼šæ­£å¸¸ç¨‹åºæ˜¯å…³äºå†™ç¨‹åºï¼›å…ƒç¼–ç¨‹æ˜¯å…³äºæ£€æµ‹æˆ–è€…æ”¹å˜ç¨‹åºã€‚</p><p>ğŸ“š åœ¨JSä¸­ï¼Œå¸¸è§çš„å†…çœæ“ä½œæœ‰è¾ƒçŸ­çš„åç§°ï¼Œè€Œå¾ˆå°‘ä½¿ç”¨çš„æ“ä½œæœ‰è¾ƒé•¿çš„åç§°ã€‚<strong>å¿½ç•¥ä¸å¯æšä¸¾å±æ€§æ˜¯å¸¸æ€</strong>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰çŸ­åç§°çš„æ“ä½œå’Œæ²¡æœ‰é•¿åç§°çš„æ“ä½œ:</p><ul><li><code>Object.keys()</code> å¿½ç•¥ä¸å¯æšä¸¾å±æ€§</li><li><code>Object.getOwnPropertyNames()</code> åˆ—ä¸¾æ‰€æœ‰è‡ªèº«å­—ç¬¦ä¸²keys</li></ul><p>ç„¶è€Œï¼Œ<code>Reflect</code> æ–¹æ³•ï¼ˆä¾‹å¦‚ <code>Reflect.ownKeys()</code>ï¼‰ åç¦»è¿™ä¸ªè§„åˆ™ï¼Œ<strong>å› ä¸º <code>Reflect</code> æä¾›çš„æ“ä½œæ›´åŠ  <code>å…ƒï¼ˆmetaï¼‰</code>ï¼Œ å¹¶å’Œä»£ç†ç›¸å…³</strong>ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜åšäº†ä»¥ä¸‹åŒºåˆ†(ä»ES6å¼€å§‹ï¼Œå¼•å…¥äº†Symbol)ï¼š</p><ul><li><em>Property keys</em> è¦ä¹ˆæ˜¯ stringsï¼Œè¦ä¹ˆæ˜¯ symbols</li><li><em>Property names</em> ä¸ºå­—ç¬¦ä¸²å±æ€§keys</li><li><em>Property symbols</em> ä¸ºsymbolså±æ€§keys</li></ul><p>å› æ­¤ï¼Œ<code>Object.keys()</code> æ›´å¥½çš„åå­—å¯èƒ½æ˜¯ <code>Object.names()</code> ğŸ˜…</p><p id="2"></p><h2 id="_2ï¸âƒ£-é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§" tabindex="-1">2ï¸âƒ£ é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§ <a class="header-anchor" href="#_2ï¸âƒ£-é¢„å®šä¹‰å’Œåˆ›å»ºçš„å±æ€§çš„æšä¸¾æ€§" aria-hidden="true">#</a></h2><p>è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°† <code>Object.getOwnPropertyDescriptor()</code> ç¼©å†™å¦‚ä¸‹ï¼š</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> desc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getOwnPropertyDescriptor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Object</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>å¤§å¤šæ•°å±æ€§åˆ›å»ºä¼´éšç€ä¸‹é¢ç‰¹æ€§ï¼š</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ğŸ‘©ğŸ»â€ğŸ« åŒ…æ‹¬ï¼š</p><ul><li>èµ‹å€¼ï¼ˆ<code>Assignment</code>ï¼‰</li><li>å¯¹è±¡å­—é¢é‡ï¼ˆ<code>Object literals</code>ï¼‰</li><li>ç±»å…¬æœ‰å­—æ®µ</li><li><code>Object.fromEntries()</code></li></ul></div><p>æœ€é‡è¦çš„ä¸å¯æšä¸¾å±æ€§æœ‰ï¼š</p><ul><li><p><strong>å†…ç½®ç±»çš„åŸå‹å±æ€§</strong></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">toSztring</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">enumerable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span></code></pre></div></li><li><p>é€šè¿‡ç”¨æˆ·å®šä¹‰çš„ç±»åˆ›å»ºçš„åŸå‹å±æ€§</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç±»æ–¹æ³•æ”¾åœ¨ç±»åŸå‹ä¸Š</span></span>
<span class="line"><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}}.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">enumerable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span></code></pre></div></li><li><p>æ•°ç»„çš„ <code>.length</code> å±æ€§</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">([]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">length</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div></li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†çœ‹çœ‹æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯ï¼Œä¹Ÿä¼šå‘Šè¯‰æˆ‘ä»¬ä¸ºä»€ä¹ˆæŸäº›å±æ€§æ˜¯å¯æšä¸¾çš„ï¼Œè€Œæœ‰äº›å±æ€§ä¸æ˜¯çš„ã€‚</p><p id="3"></p><h2 id="_3ï¸âƒ£-å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯" tabindex="-1">3ï¸âƒ£ å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#_3ï¸âƒ£-å¯æšä¸¾æ€§çš„ä½¿ç”¨åœºæ™¯" aria-hidden="true">#</a></h2><p><strong>å¯æšä¸¾æ€§æ˜¯ä¸€ä¸ªä¸ä¸€è‡´çš„åŠŸèƒ½</strong>ã€‚å®ƒå­˜åœ¨ä½¿ç”¨åœºæ™¯ï¼Œä½†æ˜¯æ€»æ˜¯å­˜åœ¨æŸç§ç¼ºé™·ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å®ƒçš„ä½¿ç”¨åœºæ™¯å’Œå…¶ç¼ºé™·ã€‚</p><p id="3.1"></p><h3 id="_3-1-ä½¿ç”¨åœºæ™¯ï¼šå¯¹-for-in-å¾ªç¯éšè—å±æ€§" tabindex="-1">3.1 ä½¿ç”¨åœºæ™¯ï¼šå¯¹ for-in å¾ªç¯éšè—å±æ€§ <a class="header-anchor" href="#_3-1-ä½¿ç”¨åœºæ™¯ï¼šå¯¹-for-in-å¾ªç¯éšè—å±æ€§" aria-hidden="true">#</a></h3><p>ğŸ“š <code>for-in</code> å¾ªç¯ä¼šéå†å¯¹è±¡è‡ªèº«çš„æˆ–ç»§æ‰¿çš„æ‰€æœ‰å¯æšä¸¾å­—ç¬¦ä¸²keysã€‚</p><p>å› æ­¤ï¼Œç‰¹æ€§ <code>enumerable</code> å¯ç”¨äºéšè—ä¸æƒ³è¢«éå†çš„å±æ€§ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ECMAScript 1ç‰ˆæœ¬ä¸­å¼•å…¥äº†å¯æšä¸¾æ€§è¿™ä¸ªæ¦‚å¿µã€‚</p><p>é€šå¸¸ï¼Œæœ€å¥½é¿å…ä½¿ç”¨ <code>for-in</code> ğŸ¤”ã€‚ä¸‹é¢2ä¸ªå°èŠ‚å°†è§£é‡Šä¸ºä»€ä¹ˆã€‚ä¸‹é¢å‡½æ•°å¸®åŠ©æˆ‘ä»¬å±•ç¤º <code>for-in</code> æ˜¯å¦‚ä½•è¿ä½œçš„ï¼š</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>1.å¯¹å¯¹è±¡ä½¿ç”¨ for-in çš„ç¼ºé™·â­</p></blockquote><p><code>for-in</code> éå†æ‰€æœ‰å±æ€§ï¼Œ<strong>ä¹ŸåŒ…æ‹¬ç»§æ‰¿çš„å±æ€§</strong>ï¼š</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><br><div class="highlighted">Â </div><br><br><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> proto </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">enumerableProtoProp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">__proto__</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> proto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ç»§æ‰¿proto</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumerableObjProp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [&#39;enumerableObjProp&#39;, &#39;enumerableProtoProp&#39;]</span></span>
<span class="line"></span></code></pre></div><p>å¯¹äºæ™®é€šå¯¹è±¡ï¼Œ <code>for-in</code> ä¸ä¼šçœ‹åˆ°ç»§æ‰¿çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>Object.prototype.toString()</code>, å› ä¸ºå®ƒä»¬æ˜¯ <strong>ä¸å¯æšä¸¾çš„</strong>ï¼š</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// []</span></span>
<span class="line"></span></code></pre></div><p>ğŸ‘©ğŸ»â€ğŸ« åœ¨ç”¨æˆ·å®šä¹‰çš„ç±»ä¸­ï¼Œæ‰€æœ‰ç»§æ‰¿å±æ€§éƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿä¼šè¢«å¿½ç•¥ï¼š</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br></div><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">first</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> last</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">first</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">first</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">last</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">last</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getName</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">first</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">last</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// jane å®ä¾‹çš„åŸå‹æ˜¯ Person.prototype</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åªæœ‰ getName æ˜¯ç»§æ‰¿çš„å±æ€§ï¼Œå®ƒæ˜¯ä¸å¯æšä¸¾çš„ ğŸ˜…</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// first last æ˜¯å®ä¾‹è‡ªèº«çš„å±æ€§ï¼Œå®ƒä»¬æ˜¯å¯æšä¸¾çš„</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> jane </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Doe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">(jane)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [&#39;first&#39;, &#39;last&#39;]</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ğŸ’¡æ€»ç»“ï¼šåœ¨å¯¹è±¡ä¸­ï¼Œ<code>for-in</code> ä¼šè€ƒè™‘ç»§æ‰¿çš„å±æ€§ï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬å¸Œæœ›å¿½ç•¥ç»§æ‰¿çš„å±æ€§ã€‚å› æ­¤æœ€å¥½ä½¿ç”¨ <code>for-of</code> å¾ªç¯ + <code>Object.keys() | Object.entries()</code> ç­‰ç»“åˆèµ·æ¥ä½¿ç”¨ğŸ˜ã€‚</p></div><blockquote><p>2.å¯¹æ•°ç»„ä½¿ç”¨for-inçš„ç¼ºé™·</p></blockquote><p>æ•°ç»„å’Œå­—ç¬¦ä¸²è‡ªèº«å±æ€§ <code>.length</code> æ˜¯ä¸å¯æšä¸¾çš„ï¼Œå› æ­¤ä¼šåœ¨ <code>for-in</code> ä¸­è¢«å¿½ç•¥ï¼š</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸš¨ è¯‘è€…æ³¨ï¼š è¿™é‡Œä¸æ˜¯ä½¿ç”¨ for-of</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å› æ­¤æ‰“å°çš„æ˜¯ç´¢å¼•å€¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [&#39;0&#39;, &#39;1&#39;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ab</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [&#39;0&#39;, &#39;1&#39;]</span></span>
<span class="line"></span></code></pre></div><p>ä½†æ˜¯ï¼Œä½¿ç”¨ <code>for-in</code> éå†æ•°ç»„ç´¢å¼•é€šå¸¸å¹¶ä¸å®‰å…¨ï¼Œå› ä¸ºå®ƒä¼šåŒæ—¶è€ƒè™‘å“ªäº›ä¸æ˜¯ç´¢å¼•çš„ç»§æ‰¿çš„å’Œè‡ªèº«çš„å±æ€§ã€‚</p><p>ä¸‹é¢ç¤ºä¾‹å±•ç¤ºäº†ï¼Œå‡å¦‚æ•°ç»„è‡ªèº«æœ‰<em>éç´¢å¼•å±æ€§ï¼ˆ<code>Non-index property</code>ï¼‰</em>:</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> arr1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">(arr1)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> arr2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å®šä¹‰ä¸€ä¸ªæ•°ç»„éç´¢å¼•å±æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">arr2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nonIndexProp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yes</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">listPropertiesViaForIn</span><span style="color:#A6ACCD;">(arr2)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nonIndexProp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>ğŸ’¡æ€»ç»“ï¼š<code>for-in</code> ä¸åº”è¯¥ç”¨äºè¿­ä»£æ•°ç»„ç´¢å¼•ï¼Œå› ä¸ºå®ƒåŒæ—¶è€ƒè™‘åˆ°äº†ç´¢å¼•å±æ€§å’Œéç´¢å¼•å±æ€§ï¼š</p><ul><li><p>ğŸ“šå¦‚æœä½ å¯¹æ•°ç»„çš„keysæ„Ÿå…´è¶£ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„æ–¹æ³• <code>.keys()</code>:</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">()]</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div></li><li><p>å¦‚æœä½ æƒ³è¿­ä»£æ•°ç»„çš„å…ƒç´ ï¼Œè¯·ä½¿ç”¨ <code>for-of</code> å¾ªç¯ï¼Œå®ƒè¿˜å¯ä»¥å¯¹å…¶å®ƒå¯è¿­ä»£æ•°æ®ç»“æ„ç”Ÿæ•ˆ</p></li></ul><p id="3.2"></p><h3 id="_3-2-ä½¿ç”¨åœºæ™¯ï¼šå°†å±æ€§æ ‡è®°ä¸ºä¸å¯æ‹·è´" tabindex="-1">3.2 ä½¿ç”¨åœºæ™¯ï¼šå°†å±æ€§æ ‡è®°ä¸ºä¸å¯æ‹·è´ <a class="header-anchor" href="#_3-2-ä½¿ç”¨åœºæ™¯ï¼šå°†å±æ€§æ ‡è®°ä¸ºä¸å¯æ‹·è´" aria-hidden="true">#</a></h3><p>é€šè¿‡å°†å±æ€§æ ‡è®°ä¸ºä¸å¯æšä¸¾ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åœ¨æŸäº›æ‹·è´æ“ä½œä¸­è¿›è¡Œéšè—ã€‚</p><p>åœ¨çœ‹æ›´ç°ä»£åŒ–æ‹·è´æ“ä½œå‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹2ä¸ªå†å²æ€§çš„æ‹·è´æ“ä½œã€‚</p><blockquote><p>A. å†å²æ€§æ‹·è´æ“ä½œ1ï¼šPrototypeçš„ Object.extend()</p></blockquote><p><a href="https://en.wikipedia.org/wiki/Prototype_JavaScript_Framework" target="_blank" rel="noopener noreferrer">Prototype</a> æ˜¯ä¸€ä¸ªå¾ˆè€çš„JSæ¡†æ¶ã€‚</p><p>Prototypeçš„ <a href="http://api.prototypejs.org/language/Object/extend/" target="_blank" rel="noopener noreferrer">Object.extend(destination, source)</a> ä¼šæ‹·è´æ‰€æœ‰è‡ªèº«å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼Œå®ƒçš„ <a href="https://github.com/prototypejs/prototype/blob/5fddd3e/src/prototype/lang/object.js#L88" target="_blank" rel="noopener noreferrer">å®ç°</a> å¦‚ä¸‹ï¼š</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">extend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">destination</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> source</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">property</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">source</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">destination</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">property</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">source</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">property</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">destination</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>å¦‚æœæˆ‘ä»¬å¯¹å¯¹è±¡ä½¿ç”¨ <code>Object.extend()</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä¼šæ‹·è´ç»§æ‰¿å±æ€§åˆ°è‡ªèº«ä¸Šï¼Œå¹¶ä¸”å¿½ç•¥éæšä¸¾å±æ€§ï¼ˆå®ƒåŒæ ·ä¼šå¿½ç•¥symbol keys å±æ€§ï¼‰ã€‚è¿™å…¶å®æ˜¯ <code>for-in</code> çš„åŸå› ï¼š</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> proto </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumProtoProp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nonEnumProtoProp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(proto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumObjProp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nonEnumObjProp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">extend</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { enumObjProp: 3, enumProtoProp: 1 }</span></span>
<span class="line"></span></code></pre></div><blockquote><p>B. å†å²æ€§æ‹·è´æ“ä½œ2ï¼šjQueryçš„ $.extend()</p></blockquote><p>jQuery çš„ <a href="https://api.jquery.com/jquery.extend/" target="_blank" rel="noopener noreferrer">$.extend(target, source1, source2, ...)</a> å’Œ <code>Object.extend()</code> ç±»ä¼¼ï¼š</p><ul><li>å®ƒä¼šæ‹·è´æ‰€æœ‰è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§</li><li>å…ˆå°† <code>source1</code> æ‹·è´åˆ° <code>target</code>ï¼Œç„¶åå°† <code>source2</code> æ‹·è´åˆ° <code>target</code>ï¼Œä¾æ¬¡ç±»æ¨</li></ul><blockquote><p>C. â­ å¯æšä¸¾æ€§é©±åŠ¨æ‹·è´çš„ç¼ºç‚¹</p></blockquote><p>åŸºäºå¯æšä¸¾æ€§æ‹·è´çš„æ–¹å¼æœ‰å‡ ä¸ªç¼ºç‚¹ï¼š</p><ul><li>å¯æšä¸¾æ€§ç”¨äºéšè—ç»§æ‰¿çš„å±æ€§ï¼Œè¿™æ˜¯å®ƒä¸»è¦çš„ä½¿ç”¨æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸å¸Œæœ›æ‹·è´è‡ªèº«å±æ€§åˆ°è‡ªèº«å±æ€§</li><li>å“ªäº›å±æ€§è¢«æ‹·è´é€šå¸¸å–å†³äºå…·ä½“çš„ä»»åŠ¡ï¼›å¯¹æ‰€æœ‰ç”¨ä¾‹ä½¿ç”¨ä¸€ä¸ªæ ‡å¿—å¾ˆå°‘æœ‰æ„ä¹‰ã€‚æ›´å¥½çš„é€‰æ‹©æ˜¯æä¾›ä¸€ä¸ª <code>predicate</code> å‡½æ•° (è¿”å›å¸ƒå°”å€¼çš„å›è°ƒ)çš„å¤åˆ¶æ“ä½œï¼Œè¯¥ <code>predicate</code> å‘Šè¯‰å¤åˆ¶æ“ä½œä½•æ—¶å¿½ç•¥å±æ€§</li><li>å½“æ‹·è´æ•°ç»„æ—¶ï¼Œå¯æšä¸¾æ€§å¯¹éšè—è‡ªèº«å±æ€§ <code>.length</code> å¾ˆæ–¹ä¾¿ã€‚ä½†æ˜¯å­˜åœ¨ä¸€ç§å¾ˆå°‘è§çš„ä¾‹å¤–æƒ…å†µï¼šä¸€ä¸ªåŒæ—¶å½±å“ç›¸è¿å±æ€§å’Œè¢«ç›¸è¿å±æ€§å½±å“çš„é­”æœ¯å±æ€§ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å»å®ç°è¿™æ ·ä¸€ä¸ªé­”æœ¯å±æ€§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ï¼ˆç»§æ‰¿çš„ï¼‰<code>getters |&amp; setters</code>ï¼Œè€Œä¸æ˜¯ï¼ˆè‡ªèº«çš„ï¼‰ æ•°æ®å±æ€§</li></ul><blockquote><p>D. â­ Object.assign()</p></blockquote><p>åœ¨ES6ä¸­ï¼Œ<a href="https://exploringjs.com/impatient-js/ch_single-objects.html#object.assign" target="_blank" rel="noopener noreferrer">Object.assign(target, source_1, source_2, ...)</a> å¯ç”¨äºå°†å¤šä¸ªsourcesåˆå¹¶åˆ°targetä¸­ã€‚<strong>sourcesä¸Šæ‰€æœ‰è‡ªèº«å¯æšä¸¾å±æ€§ï¼ˆå­—ç¬¦ä¸²å±æ€§æˆ–è€…symbol keyså±æ€§ï¼‰éƒ½ä¼šè¢«è€ƒè™‘ ğŸ“š</strong>ã€‚ <code>Object.assign()</code> ä½¿ç”¨ <strong><code>get</code> æ“ä½œ</strong> ä»sourceè¯»å–å€¼ï¼Œç„¶åä½¿ç”¨ <strong><code>set</code> æ“ä½œ</strong>å°†å€¼å†™å…¥åˆ°targetä¸Šã€‚</p><p>å…³äºå¯æšä¸¾æ€§ï¼Œ<code>Object.assign()</code> å»¶ç»­äº† Object.extend() å’Œ $.extend() çš„ä¼ ç»Ÿï¼š</p><p>Object.assign å°†ä¸ºæ‰€æœ‰å·²æµé€šçš„ extend() API é“ºå¹³é“è·¯ã€‚æˆ‘ä»¬è®¤ä¸ºåœ¨è¿™äº›æƒ…å†µä¸‹ä¸å¤åˆ¶å¯æšä¸¾æ–¹æ³•çš„å…ˆä¾‹è¶³ä»¥è®© Object.assign æœ‰è¿™ç§è¡Œä¸ºã€‚</p><p>ğŸ’¡ æ¢å¥è¯è¯´ï¼š <code>Object.assign()</code> æ˜¯ä» <code>$.extend()</code> çš„å‡çº§ç‰ˆæœ¬ã€‚<strong>å®ƒçš„æ–¹å¼æ¯”$.extendæ›´æ¸…æ™°ï¼Œå› ä¸ºå®ƒå¿½ç•¥äº†ç»§æ‰¿çš„å±æ€§ ğŸ¤©</strong>ã€‚</p><blockquote><p>E. éæšä¸¾æœ‰ç”¨çš„ä¸€ä¸ªç½•è§åœºæ™¯ï¼šåœ¨æ‹·è´æ—¶æœ‰ç”¨çš„</p></blockquote><p>éæšä¸¾æœ‰ç”¨çš„ä¸€ç§æ¯”è¾ƒå°‘è§çš„åœºæ™¯ã€‚<a href="https://github.com/jprichardson/node-fs-extra/issues/577" target="_blank" rel="noopener noreferrer">fs-extra</a> çš„ä¸€ä¸ªissue:</p><ul><li><p>Node.jså†…ç½®æ¨¡å— <code>fs</code> æœ‰ä¸€ä¸ªå±æ€§ <code>promises</code>ï¼Œå®ƒåŒ…å«åŸºäºPromiseç‰ˆæœ¬ <code>fs</code> APIçš„å¯¹è±¡ã€‚åœ¨é‚£ä¸ªissueå­˜åœ¨çš„æ—¶å€™ï¼Œè¯»å– <code>.promise</code> ä¼šå¯¼è‡´ä¸‹é¢æ§åˆ¶å°è­¦å‘Šï¼š</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">ExperimentalWarning: The fs.promises API is experimental</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>é™¤äº†æä¾›è‡ªå·±çš„åŠŸèƒ½ï¼Œ <code>fs-extra</code> ä¹Ÿé‡æ–°å¯¼å‡ºäº†fså¯¼å‡ºçš„ä¸€åˆ‡ã€‚å¯¹CommonJSæ¨¡å—ï¼Œè¿™æ„å‘³ç€å°†fsæ‰€æœ‰å±æ€§éƒ½æ‹·è´åˆ° <code>fs-extra</code> çš„ <code>module.exports</code> å¯¹è±¡ä¸Šï¼ˆé€šè¿‡ <a href="https://github.com/jprichardson/node-fs-extra/blob/master/lib/index.js" target="_blank" rel="noopener noreferrer">Object.assign</a> æ–¹æ³•ï¼‰ã€‚å½“ fs-extraè¿™æ ·åšåï¼Œå°±ä¼šè§¦å‘è­¦å‘Šã€‚æ¯æ¬¡åŠ è½½fs-extraéƒ½ä¼šè§¦å‘è¿™ä¸ªè­¦å‘Šï¼Œä»¤äººæ„Ÿåˆ°å›°æƒ‘</p></li><li><p>ä¸€ä¸ª <a href="https://github.com/nodejs/node/pull/20504" target="_blank" rel="noopener noreferrer">å¿«é€Ÿä¿®å¤</a> å°† <code>fs.promises</code> å˜ä¸ºä¸å¯æšä¸¾ã€‚ä¹‹åéœ€ï¼Œ<code>fs-extra</code> å°†å¿½ç•¥å®ƒ</p></li></ul><p id="3.3"></p><h3 id="_3-3-å°†å±æ€§æ ‡è®°ä¸ºç§æœ‰" tabindex="-1">3.3 å°†å±æ€§æ ‡è®°ä¸ºç§æœ‰ <a class="header-anchor" href="#_3-3-å°†å±æ€§æ ‡è®°ä¸ºç§æœ‰" aria-hidden="true">#</a></h3><p>å¦‚æœä½ å°†ä¸€ä¸ªå±æ€§æ ‡è®°ä¸ºä¸å¯æšä¸¾ï¼Œåˆ™å®ƒä¸ä¼šè¢« <code>Object.keys</code> &amp; <code>for-in</code> ç­‰ç­‰æ“ä½œçœ‹è§ã€‚å¯¹äºè¿™äº›æœºåˆ¶ï¼Œè¯¥å±æ€§æ˜¯ç§æœ‰çš„ã€‚</p><p>ç„¶è€Œï¼Œè¿™ç§æ–¹å¼å­˜åœ¨å‡ ä¸ªé—®é¢˜ğŸ˜…ï¼š</p><ul><li>å½“æ‹·è´å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¹Ÿæƒ³å°†ç§æœ‰å±æ€§è¿›è¡Œæ‹·è´ã€‚è¿™å’Œéæšä¸¾å±æ€§å†²çª</li><li><strong>å±æ€§å¹¶ä¸æ˜¯çœŸæ­£çš„ç§æœ‰</strong>ã€‚è·å–ï¼Œè®¾ç½®å’Œå…¶å®ƒå¯¹å±æ€§çš„æ“ä½œï¼Œå¯¹äºå¯æšä¸¾å±æ€§å’Œä¸å¯æšä¸¾å±æ€§æ˜¯æ²¡æœ‰åŒºåˆ«çš„ã€‚</li><li>å½“å¤„ç†ä»£ç æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½ç«‹å³çŸ¥é“ä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯å¯æšä¸¾çš„ã€‚<strong>å‘½åè§„èŒƒï¼ˆæ¯”å¦‚ä¸‹åˆ’çº¿ï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¾¨åˆ«å®ƒä»¬</strong></li><li>æˆ‘ä»¬ä¸èƒ½ç”¨å¯æšä¸¾æ€§æ¥è¾¨åˆ«å…¬æœ‰æ–¹æ³•æˆ–ç§æœ‰æ–¹æ³•ï¼Œå› ä¸ºæ–¹æ³•åœ¨åŸå‹ä¸Šé»˜è®¤å°±æ˜¯ä¸å¯æšä¸¾çš„ğŸ¤£</li></ul><p id="3.4"></p><h3 id="_3-4-json-stringify-éšè—è‡ªå·±çš„å±æ€§" tabindex="-1">3.4 JSON.stringify()éšè—è‡ªå·±çš„å±æ€§ <a class="header-anchor" href="#_3-4-json-stringify-éšè—è‡ªå·±çš„å±æ€§" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ğŸ“š <strong><code>JSON.stringify()</code> è¿”å›ç»“æœä¸ä¼šåŒ…å«ä¸å¯æšä¸¾å±æ€§ã€‚</strong></p></div><p>å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨æšä¸¾æ€§æ¥å†³å®šå“ªäº›å±æ€§å¯ä»¥å¯¼å‡ºä¸ºJSONã€‚è¿™ç§ä½¿ç”¨åœºæ™¯å’Œå…ˆå‰å°†å±æ€§æ ‡è®°ä¸ºç§æœ‰ç±»ä¼¼ã€‚ä½†å®ƒä¹Ÿæ˜¯ä¸åŒçš„ï¼Œå› ä¸ºå®ƒæ›´å¤šåœ°æ˜¯å…³äºå¯¼å‡ºçš„ï¼Œå¹¶ä¸”åº”ç”¨äº†ç•¥å¾®ä¸åŒçš„è€ƒè™‘å› ç´ ã€‚ä¾‹å¦‚:ä¸€ä¸ªå¯¹è±¡å¯ä»¥å®Œå…¨ä»JSONé‡å»ºå—ï¼Ÿ</p><p>ä½œä¸ºæšä¸¾æ€§çš„å¦ä¸€ç§æ›¿ä»£ï¼Œ<strong>å¯¹è±¡å¯ä»¥å®ç° <code>.toJSON()</code> å’Œ <code>JSON.stringify()</code> å­—ç¬¦ä¸²åŒ–ä»»ä½•æƒ³è¿”å›çš„å†…å®¹ï¼Œè€Œä¸å¿…æ˜¯å¯¹è±¡æœ¬èº«</strong>ğŸ’¡</p><p>ğŸŒ°ï¼š</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Point</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">fromJSON</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">json</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Point</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">json</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">json</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">toJSON</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Point</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// &#39;[8,-3]&#39;</span></span>
<span class="line"></span></code></pre></div><p>æˆ‘å‘ç° <code>toJSON()</code> è¦æ¯”åˆ©ç”¨æšä¸¾æ€§æ›´åŠ çš„æ¸…æ™°ã€‚å¹¶ä¸”å¯¹è¿”å›æ ¼å¼æ›´åŠ çš„è‡ªç”±ğŸ˜ã€‚</p><p id="4"></p><h2 id="_4ï¸âƒ£-æ€»ç»“" tabindex="-1">4ï¸âƒ£ æ€»ç»“ <a class="header-anchor" href="#_4ï¸âƒ£-æ€»ç»“" aria-hidden="true">#</a></h2><p>æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œå‡ ä¹æ‰€æœ‰åˆ©ç”¨ä¸å¯æšä¸¾çš„åº”ç”¨ç¨‹åºéƒ½æ˜¯å˜é€šçš„æ–¹æ³•ï¼Œç°åœ¨æœ‰äº†å…¶ä»–æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>ğŸ‘©ğŸ»â€ğŸ« å¯¹äºæˆ‘ä»¬è‡ªå·±çš„ä»£ç ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå‡è£…æšä¸¾æ€§ä¸å­˜åœ¨ï¼š</p><ul><li>ä½¿ç”¨å¯¹è±¡å­—é¢é‡å’Œèµ‹å€¼åˆ›å»ºå±æ€§æ€»æ˜¯åˆ›å»ºçš„å¯æšä¸¾å±æ€§</li><li>é€šè¿‡ç±»åˆ›å»ºçš„åŸå‹å±æ€§ï¼ˆæ¯”å¦‚æ–¹æ³•ï¼‰æ€»æ˜¯ä¸å¯æšä¸¾çš„</li></ul><p>2022å¹´07æœˆ21æ—¥23:47:11</p></div></div></main><footer class="VPDocFooter" data-v-79ca2460 data-v-04568844><div class="edit-info" data-v-04568844><div class="edit-link" data-v-04568844><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/deep-javascript-cn/edit/main/docs/4/Enumerability-of-Properties.md" target="_blank" rel="noopener noreferrer" data-v-04568844 data-v-5704c677><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-04568844><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> åœ¨GitHubç¼–è¾‘æ­¤é¡µ<!--]--><!----></a></div><div class="last-updated" data-v-04568844><p class="VPLastUpdated" data-v-04568844 data-v-0ce8c960>Last updated: <time datatime="2022-07-22T03:39:48.000Z" data-v-0ce8c960></time></p></div></div><div class="prev-next" data-v-04568844><div class="pager" data-v-04568844><a class="pager-link prev" href="/deep-javascript-cn/4/Properties-assignment-vs-definition.html" data-v-04568844><span class="desc" data-v-04568844>Previous page</span><span class="title" data-v-04568844>12.âš¡å±æ€§èµ‹å€¼å’Œå±æ€§å®šä¹‰</span></a></div><div class="has-prev pager" data-v-04568844><a class="pager-link next" href="/deep-javascript-cn/5/Techniques-for-instantiating-classes.html" data-v-04568844><span class="desc" data-v-04568844>Next page</span><span class="title" data-v-04568844>14.âš¡å®ä¾‹åŒ–ç±»æŠ€æœ¯ï¼ˆå¼‚æ­¥å±æ€§ï¼‰</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"2_a-detailed-look-at-global-variables.md\":\"fa7d4ad8\",\"2_environments-under-the-hood-of-variables.md\":\"092b10f5\",\"2_the-destructuring-algorithm.md\":\"bec05edb\",\"2_type-coercion-in-javascript.md\":\"6b630fad\",\"4_enumerability-of-properties.md\":\"d7e91925\",\"4_properties-assignment-vs-definition.md\":\"b939f5e0\",\"4_property-attributes-an-introduction.md\":\"83b84400\",\"4_protecting-objects-from-changed.md\":\"c0e57437\",\"5_techniques-for-instantiating-classes.md\":\"a9468ab0\",\"7_metaprogramming-with-proxies.md\":\"37622898\",\"index.md\":\"a4c108b5\"}")</script>
    <script type="module" async src="/deep-javascript-cn/assets/app.1f1ae7ae.js"></script>
    
  </body>
</html>