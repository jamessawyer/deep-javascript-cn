import{_ as s,c as n,o as a,a as l}from"./app.d0a0f41b.js";const i=JSON.parse('{"title":"å±æ€§ç‰¹æ€§ä»‹ç»","description":"","frontmatter":{"title":"å±æ€§ç‰¹æ€§ä»‹ç»"},"headers":[{"level":2,"title":"1ï¸âƒ£ â­å¯¹è±¡ç»“æ„","slug":"_1ï¸âƒ£-â­å¯¹è±¡ç»“æ„","link":"#_1ï¸âƒ£-â­å¯¹è±¡ç»“æ„","children":[{"level":3,"title":"1.1 å†…éƒ¨æ’æ§½","slug":"_1-1-å†…éƒ¨æ’æ§½","link":"#_1-1-å†…éƒ¨æ’æ§½","children":[]},{"level":3,"title":"1.2 å±æ€§é”®","slug":"_1-2-å±æ€§é”®","link":"#_1-2-å±æ€§é”®","children":[]},{"level":3,"title":"1.3 å±æ€§ç‰¹æ€§","slug":"_1-3-å±æ€§ç‰¹æ€§","link":"#_1-3-å±æ€§ç‰¹æ€§","children":[]}]},{"level":2,"title":"2ï¸âƒ£ å±æ€§æè¿°ç¬¦ï¼ˆProperty descriptorsï¼‰","slug":"_2ï¸âƒ£-å±æ€§æè¿°ç¬¦-property-descriptors","link":"#_2ï¸âƒ£-å±æ€§æè¿°ç¬¦-property-descriptors","children":[]},{"level":2,"title":"3ï¸âƒ£ å–å›å±æ€§çš„ç‰¹æ€§","slug":"_3ï¸âƒ£-å–å›å±æ€§çš„ç‰¹æ€§","link":"#_3ï¸âƒ£-å–å›å±æ€§çš„ç‰¹æ€§","children":[{"level":3,"title":"3.1 Object.getOwnPropertyDescriptor() è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦","slug":"_3-1-object-getownpropertydescriptor-è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦","link":"#_3-1-object-getownpropertydescriptor-è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦","children":[]},{"level":3,"title":"3.2 Object.getOwnPropertyDescriptors()ï¼šè·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨","slug":"_3-2-object-getownpropertydescriptors-è·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨","link":"#_3-2-object-getownpropertydescriptors-è·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨","children":[]}]},{"level":2,"title":"4ï¸âƒ£ é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§","slug":"_4ï¸âƒ£-é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§","link":"#_4ï¸âƒ£-é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§","children":[{"level":3,"title":"4.1 Object.defineProperty()ï¼šé€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§","slug":"_4-1-object-defineproperty-é€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§","link":"#_4-1-object-defineproperty-é€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§","children":[]},{"level":3,"title":"4.2 Object.defineProperties()ï¼šé€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§","slug":"_4-2-object-defineproperties-é€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§","link":"#_4-2-object-defineproperties-é€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§","children":[]}]},{"level":2,"title":"5ï¸âƒ£ Object.create()ï¼šé€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡","slug":"_5ï¸âƒ£-object-create-é€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡","link":"#_5ï¸âƒ£-object-create-é€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡","children":[]},{"level":2,"title":"6ï¸âƒ£ Object.getOwnPropertyDescriptors()ä½¿ç”¨åœºæ™¯","slug":"_6ï¸âƒ£-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯","link":"#_6ï¸âƒ£-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯","children":[{"level":3,"title":"6.1 ä½¿ç”¨åœºæ™¯ï¼šæ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­","slug":"_6-1-ä½¿ç”¨åœºæ™¯-æ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­","link":"#_6-1-ä½¿ç”¨åœºæ™¯-æ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­","children":[]},{"level":3,"title":"6.2 Object.getOwnPropertyDescriptors() ä½¿ç”¨åœºæ™¯ï¼šæ‹·è´å¯¹è±¡","slug":"_6-2-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯-æ‹·è´å¯¹è±¡","link":"#_6-2-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯-æ‹·è´å¯¹è±¡","children":[]}]},{"level":2,"title":"7ï¸âƒ£ å¿½ç•¥æè¿°å™¨å±æ€§","slug":"_7ï¸âƒ£-å¿½ç•¥æè¿°å™¨å±æ€§","link":"#_7ï¸âƒ£-å¿½ç•¥æè¿°å™¨å±æ€§","children":[{"level":3,"title":"7.1 å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§","slug":"_7-1-å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§","link":"#_7-1-å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§","children":[]},{"level":3,"title":"7.2 å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§","slug":"_7-2-å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§","link":"#_7-2-å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§","children":[]}]},{"level":2,"title":"8ï¸âƒ£ å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§ï¼Ÿ","slug":"_8ï¸âƒ£-å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§","link":"#_8ï¸âƒ£-å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§","children":[{"level":3,"title":"8.1 é€šè¿‡èµ‹å€¼ï¼ˆassignmentï¼‰åˆ›å»ºçš„å±æ€§","slug":"_8-1-é€šè¿‡èµ‹å€¼-assignment-åˆ›å»ºçš„å±æ€§","link":"#_8-1-é€šè¿‡èµ‹å€¼-assignment-åˆ›å»ºçš„å±æ€§","children":[]},{"level":3,"title":"8.2 é€šè¿‡å¯¹è±¡å­—é¢é‡ï¼ˆObject literalsï¼‰åˆ›å»ºçš„å±æ€§","slug":"_8-2-é€šè¿‡å¯¹è±¡å­—é¢é‡-object-literals-åˆ›å»ºçš„å±æ€§","link":"#_8-2-é€šè¿‡å¯¹è±¡å­—é¢é‡-object-literals-åˆ›å»ºçš„å±æ€§","children":[]},{"level":3,"title":"8.3 æ•°ç»„è‡ªèº«çš„ .length å±æ€§","slug":"_8-3-æ•°ç»„è‡ªèº«çš„-length-å±æ€§","link":"#_8-3-æ•°ç»„è‡ªèº«çš„-length-å±æ€§","children":[]},{"level":3,"title":"8.4 å†…ç½®ç±»åŸå‹å±æ€§","slug":"_8-4-å†…ç½®ç±»åŸå‹å±æ€§","link":"#_8-4-å†…ç½®ç±»åŸå‹å±æ€§","children":[]},{"level":3,"title":"8.5 â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§","slug":"_8-5-â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§","link":"#_8-5-â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§","children":[]}]},{"level":2,"title":"9ï¸âƒ£ APIï¼šå±æ€§æè¿°å™¨","slug":"_9ï¸âƒ£-api-å±æ€§æè¿°å™¨","link":"#_9ï¸âƒ£-api-å±æ€§æè¿°å™¨","children":[]},{"level":2,"title":"ğŸ”Ÿ è¿›ä¸€æ­¥é˜…è¯»","slug":"ğŸ”Ÿ-è¿›ä¸€æ­¥é˜…è¯»","link":"#ğŸ”Ÿ-è¿›ä¸€æ­¥é˜…è¯»","children":[]}],"relativePath":"4/Property-attributes-an-Introduction.md","lastUpdated":1677749232000}'),p={name:"4/Property-attributes-an-Introduction.md"},o=l(`<p>ç›®å½•ï¼š</p><nav class="table-of-contents"><ul><li><a href="#_1ï¸âƒ£-â­å¯¹è±¡ç»“æ„">1ï¸âƒ£ â­å¯¹è±¡ç»“æ„</a><ul><li><a href="#_1-1-å†…éƒ¨æ’æ§½">1.1 å†…éƒ¨æ’æ§½</a></li><li><a href="#_1-2-å±æ€§é”®">1.2 å±æ€§é”®</a></li><li><a href="#_1-3-å±æ€§ç‰¹æ€§">1.3 å±æ€§ç‰¹æ€§</a></li></ul></li><li><a href="#_2ï¸âƒ£-å±æ€§æè¿°ç¬¦-property-descriptors">2ï¸âƒ£ å±æ€§æè¿°ç¬¦ï¼ˆProperty descriptorsï¼‰</a></li><li><a href="#_3ï¸âƒ£-å–å›å±æ€§çš„ç‰¹æ€§">3ï¸âƒ£ å–å›å±æ€§çš„ç‰¹æ€§</a><ul><li><a href="#_3-1-object-getownpropertydescriptor-è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦">3.1 Object.getOwnPropertyDescriptor() è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦</a></li><li><a href="#_3-2-object-getownpropertydescriptors-è·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨">3.2 Object.getOwnPropertyDescriptors()ï¼šè·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨</a></li></ul></li><li><a href="#_4ï¸âƒ£-é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§">4ï¸âƒ£ é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§</a><ul><li><a href="#_4-1-object-defineproperty-é€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§">4.1 Object.defineProperty()ï¼šé€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§</a></li><li><a href="#_4-2-object-defineproperties-é€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§">4.2 Object.defineProperties()ï¼šé€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§</a></li></ul></li><li><a href="#_5ï¸âƒ£-object-create-é€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡">5ï¸âƒ£ Object.create()ï¼šé€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡</a></li><li><a href="#_6ï¸âƒ£-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯">6ï¸âƒ£ Object.getOwnPropertyDescriptors()ä½¿ç”¨åœºæ™¯</a><ul><li><a href="#_6-1-ä½¿ç”¨åœºæ™¯-æ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­">6.1 ä½¿ç”¨åœºæ™¯ï¼šæ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­</a></li><li><a href="#_6-2-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯-æ‹·è´å¯¹è±¡">6.2 Object.getOwnPropertyDescriptors() ä½¿ç”¨åœºæ™¯ï¼šæ‹·è´å¯¹è±¡</a></li></ul></li><li><a href="#_7ï¸âƒ£-å¿½ç•¥æè¿°å™¨å±æ€§">7ï¸âƒ£ å¿½ç•¥æè¿°å™¨å±æ€§</a><ul><li><a href="#_7-1-å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§">7.1 å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§</a></li><li><a href="#_7-2-å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§">7.2 å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§</a></li></ul></li><li><a href="#_8ï¸âƒ£-å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§">8ï¸âƒ£ å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§ï¼Ÿ</a><ul><li><a href="#_8-1-é€šè¿‡èµ‹å€¼-assignment-åˆ›å»ºçš„å±æ€§">8.1 é€šè¿‡èµ‹å€¼ï¼ˆassignmentï¼‰åˆ›å»ºçš„å±æ€§</a></li><li><a href="#_8-2-é€šè¿‡å¯¹è±¡å­—é¢é‡-object-literals-åˆ›å»ºçš„å±æ€§">8.2 é€šè¿‡å¯¹è±¡å­—é¢é‡ï¼ˆObject literalsï¼‰åˆ›å»ºçš„å±æ€§</a></li><li><a href="#_8-3-æ•°ç»„è‡ªèº«çš„-length-å±æ€§">8.3 æ•°ç»„è‡ªèº«çš„ .length å±æ€§</a></li><li><a href="#_8-4-å†…ç½®ç±»åŸå‹å±æ€§">8.4 å†…ç½®ç±»åŸå‹å±æ€§</a></li><li><a href="#_8-5-â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§">8.5 â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§</a></li></ul></li><li><a href="#_9ï¸âƒ£-api-å±æ€§æè¿°å™¨">9ï¸âƒ£ APIï¼šå±æ€§æè¿°å™¨</a></li><li><a href="#ğŸ”Ÿ-è¿›ä¸€æ­¥é˜…è¯»">ğŸ”Ÿ è¿›ä¸€æ­¥é˜…è¯»</a></li></ul></nav><p>è¿™ä¸€ç« ï¼Œæˆ‘ä»¬å°†è¿‘è·ç¦»çœ‹ä¸€çœ‹ECMAScriptè§„èŒƒæ˜¯å¦‚ä½•çœ‹å¾…JSå¯¹è±¡çš„ã€‚<em>ç‰¹åˆ«çš„ï¼šåœ¨è§„èŒƒä¸­å±æ€§ä¸æ˜¯åŸå­æ€§ï¼ˆ<code>atomic</code>ï¼‰çš„ï¼Œè€Œæ˜¯ç”±å¤šä¸ªç‰¹æ€§ï¼ˆ<code>attributes</code>ï¼‰ç»„åˆè€Œæˆï¼ˆå¯ç†è§£ä¸ºrecordä¸­çš„å­—æ®µï¼‰</em>ã€‚ç”šè‡³æ˜¯ä¸€ä¸ªæ•°æ®å±æ€§çš„å€¼ä¹Ÿæ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªç‰¹æ€§ä¸­ã€‚</p><h2 id="_1ï¸âƒ£-â­å¯¹è±¡ç»“æ„" tabindex="-1">1ï¸âƒ£ â­å¯¹è±¡ç»“æ„ <a class="header-anchor" href="#_1ï¸âƒ£-â­å¯¹è±¡ç»“æ„" aria-hidden="true">#</a></h2><p>ğŸ‘©ğŸ»â€ğŸ« <a href="https://tc39.es/ecma262/#sec-object-type" target="_blank" rel="noreferrer">åœ¨ECMAScriptè§„èŒƒä¸­</a>ï¼Œä¸€ä¸ªå¯¹è±¡ç”±ä»¥ä¸‹2ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p><ol><li><strong>å†…éƒ¨æ’æ§½ï¼ˆ<code>Internal slots</code>ï¼‰</strong>: ä¸èƒ½è¢«JSæ‰€è®¿é—®åˆ°çš„å­˜å‚¨ä½ç½®ï¼Œåªèƒ½è¢«è§„èŒƒä¸­çš„æ“ä½œï¼ˆ<code>operations</code>ï¼‰è®¿é—®</li><li><strong>å±æ€§ï¼ˆ<code>properties</code>ï¼‰é›†åˆ</strong>ï¼š æ¯ä¸ªå±æ€§éƒ½å°†é”®ä¸ç‰¹æ€§ï¼ˆ<code>attributes</code>ï¼‰å…³è”èµ·æ¥(å¯ç†è§£ä¸ºè®°å½•ä¸­çš„å­—æ®µ)ã€‚</li></ol><h3 id="_1-1-å†…éƒ¨æ’æ§½" tabindex="-1">1.1 å†…éƒ¨æ’æ§½ <a class="header-anchor" href="#_1-1-å†…éƒ¨æ’æ§½" aria-hidden="true">#</a></h3><p>è§„èŒƒå¯¹<a href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" target="_blank" rel="noreferrer">å†…éƒ¨æ’æ§½</a>çš„æè¿°å¦‚ä¸‹ï¼š</p><ul><li>å†…éƒ¨æ§½å¯¹åº”äºä¸å¯¹è±¡å…³è”å¹¶è¢«å„ç§ECMAScriptè§„èŒƒç®—æ³•ä½¿ç”¨çš„<strong>å†…éƒ¨çŠ¶æ€</strong></li><li><strong>å†…éƒ¨æ’æ§½ä¸æ˜¯å¯¹è±¡å±æ€§ï¼Œå®ƒä»¬ä¸è¢«ç»§æ‰¿</strong></li><li>æ ¹æ®å…·ä½“çš„å†…éƒ¨æ§½è§„èŒƒï¼Œè¿™ç§çŠ¶æ€å¯èƒ½åŒ…æ‹¬: <ul><li>ä»»ä½•ECMAScriptè¯­è¨€ç±»å‹çš„å€¼</li><li>æˆ–è€…å…·ä½“ECMAScriptè§„èŒƒç±»å‹å€¼</li></ul></li><li>é™¤éæ˜¾å¼çš„æŒ‡å‡ºï¼Œå¦åˆ™å†…éƒ¨æ’æ§½ä½œä¸ºåˆ›å»ºå¯¹è±¡çš„ä¸€éƒ¨åˆ†è¢«åˆ†é…ï¼Œå¹¶ä¸”å¯èƒ½ä¸èƒ½åŠ¨æ€çš„æ·»åŠ åˆ°å¯¹è±¡ä¸­</li><li>ğŸ˜ é™¤éç‰¹æ„æŒ‡å‡ºï¼Œå¦åˆ™å†…éƒ¨æ’æ§½çš„åˆå§‹å€¼æ˜¯ <code>undefined</code></li><li>è¯¥è§„èŒƒä¸­çš„å„ç§ç®—æ³•åˆ›å»ºå…·æœ‰å†…éƒ¨æ§½çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œ<strong>ECMAScriptè¯­è¨€æ²¡æœ‰æä¾›å°†å†…éƒ¨æ§½ä¸å¯¹è±¡å…³è”çš„ç›´æ¥æ–¹æ³•ã€‚</strong> ğŸ“š</li><li>å†…éƒ¨æ–¹æ³•å’Œå†…éƒ¨æ§½åœ¨è§„èŒƒä¸­æ˜¯ç­‰åŒçš„ï¼Œä½¿ç”¨åŒä¸­æ‹¬å·çš„å½¢å¼ <code>[[name]]</code></li></ul><p>ğŸ‘©ğŸ»â€ğŸ« å­˜åœ¨2ç§ç±»å‹çš„å†…éƒ¨æ§½ï¼š</p><ul><li>æ–¹æ³•æ§½ç”¨äºæ“ä½œå¯¹è±¡ï¼ˆè·å–å±æ€§ï¼Œè®¾ç½®å±æ€§ç­‰ç­‰ï¼‰</li><li>æ•°æ®æ§½å­˜å‚¨å€¼</li></ul><p>ğŸ“š æ™®é€šå¯¹è±¡æœ‰å¦‚ä¸‹æ•°æ®æ§½ï¼ˆ<code>data slots</code>ï¼‰:</p><ul><li><code>.[[Prototype]]: null | object</code><ul><li>å­˜å‚¨å¯¹è±¡çš„åŸå‹</li><li>å¯ä»¥ç›´æ¥é€šè¿‡ <code>Object.getPrototypeOf()</code> å’Œ <code>Object.setPrototypeOf()</code> è¿›è¡Œæ“ä½œ</li></ul></li><li><code>.[[Extensible]]: boolean</code><ul><li>è¡¨ç¤ºæ˜¯å¦å¯ä»¥ç»™å¯¹è±¡æ·»åŠ å±æ€§</li><li>å¯ä»¥é€šè¿‡ <code>Object.preventExtensions()</code> è®¾ç½®ä¸º <code>false</code></li></ul></li><li><code>.[[PrivateFieldValues]]: EntryList</code><ul><li>ç”¨äºç®¡ç† <a href="https://2ality.com/2019/07/private-class-fields.html" target="_blank" rel="noreferrer">classç§æœ‰å­—æ®µ</a></li></ul></li></ul><h3 id="_1-2-å±æ€§é”®" tabindex="-1">1.2 å±æ€§é”® <a class="header-anchor" href="#_1-2-å±æ€§é”®" aria-hidden="true">#</a></h3><p>å±æ€§å­˜åœ¨2ç§ç±»å‹çš„é”®ï¼š</p><ul><li>å­—ç¬¦ä¸²ç±»å‹</li><li>Symbolç±»å‹</li></ul><h3 id="_1-3-å±æ€§ç‰¹æ€§" tabindex="-1">1.3 å±æ€§ç‰¹æ€§ <a class="header-anchor" href="#_1-3-å±æ€§ç‰¹æ€§" aria-hidden="true">#</a></h3><p>å­˜åœ¨2ç§ç±»å‹çš„å±æ€§ï¼Œå¯ä»¥ä¾æ®å…¶ç‰¹æ€§åˆ†ç±»ï¼š</p><ul><li>æ•°æ®å±æ€§ï¼ˆ<code>data property</code>ï¼‰ å­˜å‚¨æ•°æ®ã€‚å®ƒçš„ç‰¹æ€§ <code>value</code> å¯å­˜å‚¨ä»»ä½•JSå€¼</li><li>è®¿é—®å™¨å±æ€§ï¼ˆ<code>accessor property</code>ï¼‰ ç”± <code>getter</code> |&amp; <code>setter</code> å‡½æ•°ç»„æˆã€‚å‰è€…å­˜å‚¨åœ¨ <code>get</code> ç‰¹æ€§ä¸­ï¼Œåè€…å­˜å‚¨åœ¨ <code>set</code> ç‰¹æ€§ä¸­</li></ul><p>ğŸš€ å¦å¤–ä¸€äº›ç‰¹æ€§æ˜¯æ‰€æœ‰å±æ€§éƒ½å­˜åœ¨çš„ã€‚ä¸‹æ ‡åˆ—ä¸¾å‡ºæ‰€æœ‰ç‰¹æ€§å’Œå…¶é»˜è®¤å€¼ï¼š</p><table><thead><tr><th>å±æ€§ç±»å‹</th><th>ç‰¹æ€§åç§°å’Œç±»å‹</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>æ•°æ®å±æ€§</td><td>value: any</td><td>undefined</td></tr><tr><td></td><td>writable: boolean</td><td>false</td></tr><tr><td>è®¿é—®å±æ€§</td><td>get: (this: any) =&gt; any</td><td>undefined</td></tr><tr><td></td><td>set: (this: any, v: any) =&gt; void</td><td>undefined</td></tr><tr><td>æ‰€æœ‰å±æ€§</td><td>configurable: boolean</td><td>false</td></tr><tr><td></td><td>enumerable: boolean</td><td>false</td></tr></tbody></table><p>æˆ‘ä»¬å·²ç»ç¢°åˆ°è¿‡äº† <code>value</code> &amp; <code>get</code> &amp; <code>set</code> ç‰¹æ€§ã€‚å…¶ä½™ç‰¹æ€§æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li><code>writable</code>ï¼šå†³å®šä¸€ä¸ªæ•°æ®å±æ€§æ˜¯å¦å¯ä»¥è¢«æ›´æ”¹</li><li><code>configurable</code>ï¼šå†³å®šä¸€ä¸ªå±æ€§çš„ç‰¹æ€§æ˜¯å¦å¯ä»¥è¢«æ›´æ”¹ã€‚å¦‚æœä¸º <code>false</code>ï¼Œåˆ™ï¼š <ul><li>æˆ‘ä»¬ä¸èƒ½åˆ é™¤å±æ€§ï¼ˆè¯‘è€…æ³¨ï¼š<code>delete obj.prop</code> æ¾æ•£æ¨¡å¼ä¸‹å¤±è´¥ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼‰</li><li>ä¸èƒ½å°†ä¸€ä¸ªæ•°æ®å±æ€§æ›´æ”¹ä¸ºè®¿é—®å™¨å±æ€§ï¼Œåä¹‹äº¦ç„¶</li><li>é™¤äº† <code>value</code> ç‰¹æ€§å¤–ï¼Œå…¶å®ƒç‰¹æ€§éƒ½ä¸èƒ½å†è¢«æ›´æ”¹ ğŸ˜</li><li>ç„¶è€Œï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ€§æ˜¯å¯ä»¥è¢«æ›´æ”¹ï¼šæˆ‘ä»¬å¯ä»¥å°† <code>writable</code> ç‰¹æ€§ä» <code>true</code> æ›´æ”¹åˆ° <code>false</code>ã€‚è¿™ç§å¼‚å¸¸ç°è±¡èƒŒåçš„åŸºæœ¬åŸç†æ˜¯<a href="https://stackoverflow.com/questions/9829817/why-can-i-set-enumerability-and-writability-of-unconfigurable-property-descrip/9843191#9843191" target="_blank" rel="noreferrer">å†å²æ€§</a>çš„ï¼šæ•°ç»„çš„ <code>.length</code> å±æ€§æ€»æ˜¯å¯å†™ä¸å¯é…ç½®çš„ã€‚å…è®¸å°†å®ƒçš„ <code>writable</code> ç‰¹æ€§æ›´æ”¹ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå†»ç»“æ•°ç»„ã€‚</li></ul></li><li><code>enumerable</code>ï¼šä¼šå½±å“åˆ°æŸäº›æ“ä½œï¼ˆæ¯”å¦‚ <code>Object.keys()</code>ï¼‰ã€‚å¦‚æœä¸º <code>false</code>ï¼Œåˆ™è¿™äº›æ“ä½œå°†å¿½ç•¥è¯¥å±æ€§ã€‚å¤§å¤šæ•°å±æ€§æ˜¯å¯æšä¸¾çš„ï¼ˆæ¯”å¦‚ï¼š<em>é€šè¿‡èµ‹å€¼æˆ–è€…å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å±æ€§</em>ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨å®é™…ä¸­ä½ å¾ˆå°‘ä¼šæ³¨æ„åˆ°è¿™ä¸ªç‰¹æ€§ã€‚å¦‚æœä½ å¯¹è¿™ä¸ªç‰¹æ€§å¦‚ä½•è¿ä½œçš„å¾ˆæ„Ÿå…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹ <a href="https://exploringjs.com/deep-js/ch_enumerability.html" target="_blank" rel="noreferrer">Enumerability of properties</a> è¿™ä¸€ç« ã€‚</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>é™·é˜±: ç»§æ‰¿çš„ä¸å¯å†™å±æ€§ä¼šé˜»æ­¢é€šè¿‡èµ‹å€¼çš„æ–¹å¼åˆ›å»ºè‡ªå·±çš„å±æ€§</p></div><p>å¦‚æœä¸€ä¸ªç»§æ‰¿çš„å±æ€§æ˜¯ä¸å¯å†™çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨èµ‹å€¼æ¥åˆ›å»ºå…·æœ‰ç›¸åŒé”®å€¼çš„è‡ªå·±çš„å±æ€§:</p><p>ğŸŒ°</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> proto </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">prop</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä½¿ proto.prop å˜ä¸ºä¸å¯å†™</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  proto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">prop</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// obj ç»§æ‰¿ proto</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(proto)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// âŒ ä¸èƒ½å¯¹åªè¯»å±æ€§ \`prop\` è¿›è¡Œèµ‹å€¼</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot assign to read only property &#39;prop&#39;</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>æ›´å¤šä¿¡æ¯å¯å‚è€ƒï¼š</p><ul><li><a href="https://exploringjs.com/deep-js/ch_property-assignment-vs-definition.html#inherited-properties-prevent-assignment" target="_blank" rel="noreferrer">11.3.4 Inherited read-only properties prevent creating own properties via assignment</a></li></ul><h2 id="_2ï¸âƒ£-å±æ€§æè¿°ç¬¦-property-descriptors" tabindex="-1">2ï¸âƒ£ å±æ€§æè¿°ç¬¦ï¼ˆProperty descriptorsï¼‰ <a class="header-anchor" href="#_2ï¸âƒ£-å±æ€§æè¿°ç¬¦-property-descriptors" aria-hidden="true">#</a></h2><p><em>å±æ€§æè¿°ç¬¦ï¼ˆ<code>property descriptor</code>ï¼‰å°†å±æ€§çš„ç‰¹æ€§ç¼–ç ä¸º JavaScript å¯¹è±¡ã€‚</em> å®ƒä»¬çš„TypeScriptæ¥å£çœ‹ç€å¦‚ä¸‹ï¼š</p><p>ğŸ‘©ğŸ»â€ğŸ«ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ•°æ®å±æ€§</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DataPropertyDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è®¿é—®å™¨å±æ€§</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AccessorPropertyDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">this</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">this</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">v</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ å¯ä»¥çœ‹å‡ºå±æ€§æè¿°ç¬¦åˆ†ä¸º2ç±»</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PropertyDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DataPropertyDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AccessorPropertyDescriptor</span></span>
<span class="line"></span></code></pre></div><p>ä¸Šé¢å±æ€§çš„ <code>?:</code> è¡¨æ˜æ‰€æœ‰ç‰¹æ€§éƒ½æ˜¯å¯é€‰çš„ã€‚<a href="#7">Omitting descriptor properties</a> æè¿°å¦‚æœç‰¹æ€§è¢«å¿½ç•¥äº†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><h2 id="_3ï¸âƒ£-å–å›å±æ€§çš„ç‰¹æ€§" tabindex="-1">3ï¸âƒ£ å–å›å±æ€§çš„ç‰¹æ€§ <a class="header-anchor" href="#_3ï¸âƒ£-å–å›å±æ€§çš„ç‰¹æ€§" aria-hidden="true">#</a></h2><h3 id="_3-1-object-getownpropertydescriptor-è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦" tabindex="-1">3.1 Object.getOwnPropertyDescriptor() è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦ <a class="header-anchor" href="#_3-1-object-getownpropertydescriptor-è·å–ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦" aria-hidden="true">#</a></h3><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> legoBrick </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Plate 1x3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">kind</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> (</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>å…ˆè·å–æ•°æ®å±æ€§ <code>.color</code> çš„æè¿°ç¬¦ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(legoBlock</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>è®¿é—®å±æ€§ <code>.description</code> çš„æè¿°ç¬¦ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> desc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getOwnPropertyDescriptor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(Object)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(legoBrick</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(legoBrick</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">get</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// A</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>åœ¨ <code>A</code> è¡Œä½¿ç”¨å·¥å…·å‡½æ•° <code>desc()</code> ç¡®ä¿ <code>deepEqual()</code> èƒ½æ­£å¸¸è¿è¡Œã€‚</p><h3 id="_3-2-object-getownpropertydescriptors-è·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨" tabindex="-1">3.2 Object.getOwnPropertyDescriptors()ï¼šè·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨ <a class="header-anchor" href="#_3-2-object-getownpropertydescriptors-è·å–å¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§çš„æè¿°å™¨" aria-hidden="true">#</a></h3><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> legoBrick </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Plate 1x3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">kind</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> (</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> desc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getOwnPropertyDescriptor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(Object)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(legoBrick)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Plate 1x3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(legoBrick</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">get</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// (A)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="_4ï¸âƒ£-é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§" tabindex="-1">4ï¸âƒ£ é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§ <a class="header-anchor" href="#_4ï¸âƒ£-é€šè¿‡æè¿°å™¨å®šä¹‰å±æ€§" aria-hidden="true">#</a></h2><p>ğŸ“š å¦‚æœæˆ‘ä»¬é€šè¿‡æè¿°å™¨ <code>propDesc</code> å®šä¹‰å±æ€§ <code>k</code>ï¼Œä¼šå‘ç”Ÿå¦‚ä¸‹äº‹æƒ…ï¼š</p><ul><li>å¦‚æœä¸å­˜åœ¨å±æ€§ <code>k</code>ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å±æ€§ï¼Œç‰¹æ€§ä¸º <code>propDesc</code></li><li>å¦‚æœå·²ç»å­˜åœ¨å±æ€§ <code>k</code>ï¼Œå°†ä¼šæ”¹å˜å±æ€§çš„ç‰¹æ€§ï¼Œä»¥åŒ¹é… <code>propDesc</code></li></ul><h3 id="_4-1-object-defineproperty-é€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§" tabindex="-1">4.1 Object.defineProperty()ï¼šé€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§ <a class="header-anchor" href="#_4-1-object-defineproperty-é€šè¿‡æè¿°å™¨å®šä¹‰å•ä¸€å±æ€§" aria-hidden="true">#</a></h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡æè¿°å™¨åˆ›å»ºä¸€ä¸ªæ–°å±æ€§ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> car </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(car</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bluue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  car</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>ğŸ˜æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡æè¿°å™¨æ”¹å˜å±æ€§ç±»å‹ï¼Œå°†æ•°æ®å±æ€§å˜ä¸ºä¸€ä¸ª <code>getter</code>ï¼ˆè®¿é—®å™¨å±æ€§ï¼‰ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> car </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> readCount </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(car</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">readCount</span><span style="color:#89DDFF;">++</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(car</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(readCount</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>æœ€åï¼Œæˆ‘ä»¬é€šè¿‡æè¿°å™¨æ”¹å˜ä¸€ä¸ªæ•°æ®å±æ€§çš„å€¼ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> car </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨ç›¸åŒçš„ç‰¹æ€§ä½œä¸ºèµ‹å€¼</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  car</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  car</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>æˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„å±æ€§ç‰¹æ€§ä½œä¸ºèµ‹å€¼</p><h3 id="_4-2-object-defineproperties-é€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§" tabindex="-1">4.2 Object.defineProperties()ï¼šé€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§ <a class="header-anchor" href="#_4-2-object-defineproperties-é€šè¿‡æè¿°å™¨å®šä¹‰å¤šä¸ªå±æ€§" aria-hidden="true">#</a></h3><p><code>Object.defineProperties()</code> æ˜¯ <code>Object.defineProperty()</code> å¤šå±æ€§ç‰ˆæœ¬ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> legoBrick1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  legoBrick1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Plate 1x3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">kind</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> (</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  kind: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Plate 1x3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  color: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  get </span><span style="color:#82AAFF;">description</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    return </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">kind</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">  }</span></span>
<span class="line"><span style="color:#F07178;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="_5ï¸âƒ£-object-create-é€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡" tabindex="-1">5ï¸âƒ£ Object.create()ï¼šé€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡ <a class="header-anchor" href="#_5ï¸âƒ£-object-create-é€šè¿‡æè¿°å™¨åˆ›å»ºå¯¹è±¡" aria-hidden="true">#</a></h2><p>ğŸ“’ <code>Object.create()</code> åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šæ–°å¯¹è±¡çš„åŸå‹</li><li>ç¬¬äºŒä¸ªå¯é€‰å‚æ•°æŒ‡å®šè¯¥å¯¹è±¡çš„å±æ€§æè¿°å™¨</li></ul><p>ä¸‹é¢ä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¹‹å‰ç›¸åŒçš„å¯¹è±¡ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> legoBrick2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Plate 1x3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">kind</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> (</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸ¤” æˆ‘ä»¬çœŸçš„åˆ›å»ºä¸€ä¸ªç›¸åŒçš„å¯¹è±¡å—?</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è¯‘è€…æ³¨ï¼šdeepEqualåªä¼šå¯¹å¯¹è±¡å†…å®¹è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹è±¡çš„åœ°å€æ˜¯ä¸åŒçš„</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(legoBrick1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> legoBrick2) </span><span style="color:#676E95;font-style:italic;">// æ˜¯çš„</span></span>
<span class="line"></span></code></pre></div><h2 id="_6ï¸âƒ£-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯" tabindex="-1">6ï¸âƒ£ Object.getOwnPropertyDescriptors()ä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#_6ï¸âƒ£-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯" aria-hidden="true">#</a></h2><p>å¦‚æœç»“åˆ <code>Object.defineProperties()</code> æˆ–è€… <code>Object.create()</code> ä¸€èµ·ä½¿ç”¨çš„è¯ï¼Œ <code>Object.getOwnPropertyDescriptors()</code> ä¸»è¦æœ‰2ä¸ªä½¿ç”¨åœºæ™¯ï¼š</p><ol><li>æ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­</li><li>æ‹·è´å¯¹è±¡</li></ol><h3 id="_6-1-ä½¿ç”¨åœºæ™¯-æ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­" tabindex="-1">6.1 ä½¿ç”¨åœºæ™¯ï¼šæ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­ <a class="header-anchor" href="#_6-1-ä½¿ç”¨åœºæ™¯-æ‹·è´å±æ€§åˆ°å¯¹è±¡ä¸­" aria-hidden="true">#</a></h3><p>ä»ES6å¼€å§‹ï¼ŒJSå·²ç»å­˜åœ¨ä¸€ä¸ªå·¥å…·ç”¨äºæ‹·è´å±æ€§äº†ï¼š <code>Object.assign()</code>ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ä½¿ç”¨ç®€å•çš„ get &amp; set æ“ä½œæ‹·è´å±æ€§ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">target[key] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> source[key]</span></span>
<span class="line"></span></code></pre></div><p>è¿™æ„å‘³ç€å®ƒåªåœ¨ä»¥ä¸‹æƒ…å†µä¸‹åˆ›å»ºå±æ€§çš„å¯é å‰¯æœ¬:</p><ul><li>å®ƒçš„ç‰¹æ€§ <code>writable = true</code>ï¼Œå®ƒçš„ç‰¹æ€§ <code>enumerable = true</code>(å› ä¸ºè¿™æ˜¯èµ‹å€¼åˆ›å»ºå±æ€§çš„åŸå› )</li><li>å®ƒæ˜¯ä¸€ä¸ªæ•°æ®å±æ€§</li></ul><p>ä¸‹é¢ç¤ºä¾‹å±•ç¤ºäº†è¿™ä¸€é™åˆ¶ğŸ¥²ã€‚å¯¹è±¡ <code>source</code> æœ‰ä¸€ä¸ªkeyä¸º <code>data</code> çš„ <code>setter</code>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> source </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">valuue</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å±æ€§ \`data\` å­˜åœ¨</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å› ä¸ºåªæœ‰ä¸€ä¸ªsetterï¼Œè¿˜æ²¡æœ‰èµ‹å€¼ï¼Œæ‰€ä»¥å…¶å€¼ä¸º \`undefined\`</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> source</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">eqaul</span><span style="color:#A6ACCD;">(source</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>Object.assign()</code> æ‹·è´ <code>data</code> å±æ€§ï¼Œ<em>åˆ™è®¿é—®å™¨å±æ€§ <code>data</code> è½¬æ¢ä¸ºä¸€ä¸ªæ•°æ®å±æ€§</em>ï¼šğŸ˜…</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> target1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assign</span><span style="color:#A6ACCD;">(target1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> source)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// æ‹·è´åçš„å¯¹è±¡è½¬æ¢ä¸ºäº†æ•°æ®å±æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(target1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä½œä¸ºå¯¹æ¯”ï¼Œsourceä¸ºï¼š</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ åŸå¯¹è±¡ä¸ºè®¿é—®å™¨å±æ€§</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> desc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getOwnPropertyDescriptor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(Object)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(source</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(source</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">set</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>ğŸš€ å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨ <code>Object.getOwnPropertyDescriptors()</code> + <code>Object.defineProperties()</code> å¯ä»¥å®Œæˆå¯¹å±æ€§ <code>data</code> å¯é çš„æ‹·è´:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> target2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  target2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(source)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(target2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(source</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">set</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><blockquote><p>é™·é˜±ï¼šæ‹·è´ä½¿ç”¨äº† super çš„æ–¹æ³•</p></blockquote><p>ä½¿ç”¨äº† <code>super</code> çš„æ–¹æ³•å’Œå…¶ <strong>å®¶å¯¹è±¡ ï¼ˆ<code>home object</code>ï¼‰</strong>ï¼ˆå­˜å‚¨å®ƒçš„å¯¹è±¡ï¼‰ ç´§ç´§çš„è”ç³»åœ¨ä¸€èµ·ã€‚ç›®å‰è¿˜æ²¡æœ‰åŠæ³•å°†è¿™æ ·çš„æ–¹æ³•ç§»åŠ¨æˆ–è€…æ‹·è´åˆ°ä¸åŒçš„å¯¹è±¡ä¸ŠğŸ˜…ã€‚</p><h3 id="_6-2-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯-æ‹·è´å¯¹è±¡" tabindex="-1">6.2 Object.getOwnPropertyDescriptors() ä½¿ç”¨åœºæ™¯ï¼šæ‹·è´å¯¹è±¡ <a class="header-anchor" href="#_6-2-object-getownpropertydescriptors-ä½¿ç”¨åœºæ™¯-æ‹·è´å¯¹è±¡" aria-hidden="true">#</a></h3><p><em>æµ…æ‹·è´ç±»ä¼¼äºæ‹·è´å±æ€§ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <code>Object.getOwnPropertyDescriptors()</code> åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªå¥½é€‰æ‹©çš„åŸå› </em>ã€‚</p><p>ä¸ºäº†åˆ›å»ºå…‹éš†ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Object.clone()</code>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> original </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">valuue</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> clone </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#A6ACCD;">(original)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(original)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸš¨ deepEqual åªå¯¹æ¯”å±æ€§å€¼æ˜¯å¦ç›¸åŒï¼Œä¸ä¼šå¯¹æ¯”å¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒ</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(original</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> clone)</span></span>
<span class="line"></span></code></pre></div><p>å…³äºè¿™ä¸ªè¯é¢˜ï¼Œå¯å‚è€ƒï¼š</p><ul><li><a href="https://exploringjs.com/deep-js/ch_copying-objects-and-arrays.html" target="_blank" rel="noreferrer">Copying objects and Arrays</a></li></ul><h2 id="_7ï¸âƒ£-å¿½ç•¥æè¿°å™¨å±æ€§" tabindex="-1">7ï¸âƒ£ å¿½ç•¥æè¿°å™¨å±æ€§ <a class="header-anchor" href="#_7ï¸âƒ£-å¿½ç•¥æè¿°å™¨å±æ€§" aria-hidden="true">#</a></h2><p>ğŸ“š <strong>æè¿°å™¨çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¯é€‰çš„ã€‚</strong> å½“å¿½ç•¥å±æ€§å‘ç”Ÿä»€ä¹ˆå–å†³äºå…·ä½“æ“ä½œã€‚</p><h3 id="_7-1-å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§" tabindex="-1">7.1 å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§ <a class="header-anchor" href="#_7-1-å½“åˆ›å»ºå±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§" aria-hidden="true">#</a></h3><p>ğŸ‘©ğŸ»â€ğŸ« å½“é€šè¿‡æè¿°å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„å±æ€§ï¼Œ<strong>å¿½ç•¥ç‰¹æ€§æ„å‘³ç€ä½¿ç”¨å¿½ç•¥ç‰¹æ€§çš„é»˜è®¤å€¼</strong>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> car </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  car</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ é»˜è®¤å€¼å…¨éƒ¨ä¸ºfalse</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(car</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-2-å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§" tabindex="-1">7.2 å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§ <a class="header-anchor" href="#_7-2-å½“æ”¹å˜å±æ€§æ—¶å¿½ç•¥æè¿°å™¨å±æ€§" aria-hidden="true">#</a></h3><p>å¦‚æœæˆ‘ä»¬æ”¹å˜ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å±æ€§ï¼Œå¿½ç•¥æè¿°å™¨å±æ€§æ„å‘³ç€ä¸ä¼šå»è§¦ç¢°ç›¸åº”çš„ç‰¹æ€§ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> car </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ é€šè¿‡å­—é¢é‡èµ‹å€¼ ç‰¹æ€§é»˜è®¤å€¼å‡ä¸º true</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(car</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ”¹å˜å·²ç»å­˜åœ¨çš„å±æ€§çš„ç‰¹æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  car</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(car</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="_8ï¸âƒ£-å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§" tabindex="-1">8ï¸âƒ£ å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§ï¼Ÿ <a class="header-anchor" href="#_8ï¸âƒ£-å†…ç½®æ„é€ ä½¿ç”¨å“ªäº›å±æ€§ç‰¹æ€§" aria-hidden="true">#</a></h2><p>ğŸ‘©ğŸ»â€ğŸ« å¯¹å±æ€§ç‰¹æ€§çš„é€šç”¨è§„åˆ™ï¼ˆå­˜åœ¨æŸäº›ä¾‹å¤–ï¼‰ï¼š</p><ul><li>åŸå‹é“¾å¼€å¤´çš„å¯¹è±¡å±æ€§é€šå¸¸æ˜¯å¯å†™çš„ã€å¯æšä¸¾çš„å’Œå¯é…ç½®çš„</li><li>å¦‚ <a href="https://exploringjs.com/deep-js/ch_enumerability.html" target="_blank" rel="noreferrer">æšä¸¾å‹</a> è¿™ç« æè¿°çš„ï¼Œå¤§å¤šæ•°ç»§æ‰¿çš„å±æ€§éƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼Œä¸ºäº†å°†å®ƒä»¬åœ¨ä¼ ç»Ÿçš„æ„é€ ï¼ˆæ¯”å¦‚ <code>for-in</code> å¾ªç¯ï¼‰ä¸­éšè—ã€‚ç»§æ‰¿çš„å±æ€§é€šå¸¸æ˜¯å¯å†™å¯é…ç½®çš„</li></ul><h3 id="_8-1-é€šè¿‡èµ‹å€¼-assignment-åˆ›å»ºçš„å±æ€§" tabindex="-1">8.1 é€šè¿‡èµ‹å€¼ï¼ˆassignmentï¼‰åˆ›å»ºçš„å±æ€§ <a class="header-anchor" href="#_8-1-é€šè¿‡èµ‹å€¼-assignment-åˆ›å»ºçš„å±æ€§" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">prop</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p id="8.2"></p><h3 id="_8-2-é€šè¿‡å¯¹è±¡å­—é¢é‡-object-literals-åˆ›å»ºçš„å±æ€§" tabindex="-1">8.2 é€šè¿‡å¯¹è±¡å­—é¢é‡ï¼ˆObject literalsï¼‰åˆ›å»ºçš„å±æ€§ <a class="header-anchor" href="#_8-2-é€šè¿‡å¯¹è±¡å­—é¢é‡-object-literals-åˆ›å»ºçš„å±æ€§" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">prop</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">prop</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="_8-3-æ•°ç»„è‡ªèº«çš„-length-å±æ€§" tabindex="-1">8.3 æ•°ç»„è‡ªèº«çš„ .length å±æ€§ <a class="header-anchor" href="#_8-3-æ•°ç»„è‡ªèº«çš„-length-å±æ€§" aria-hidden="true">#</a></h3><p>ğŸ‘©ğŸ»â€ğŸ« <em>æ•°ç»„çš„ <code>.length</code> å±æ€§æ˜¯ä¸å¯æšä¸¾çš„</em>ï¼Œ å› æ­¤å®ƒä¸èƒ½é€šè¿‡ <code>Object.assign()</code> æˆ– <code>spreading</code> æˆ–ç±»ä¼¼çš„æ“ä½œæ‹·è´ã€‚å®ƒä¹Ÿæ˜¯ä¸å¯é…ç½®çš„ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">([]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">length</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// { value: 0, writable: true, enumerable: false, configurable: false }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">length</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// { value: 3, writable: false, enumerable: false, configurable: false }</span></span>
<span class="line"></span></code></pre></div><p><code>.length</code> æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æ•°æ®å±æ€§ï¼Œå®ƒä¼šå—è‡ªèº«å±æ€§ï¼ˆå…·ä½“è®²æ˜¯ <strong>ç´¢å¼•å±æ€§</strong>ï¼‰å½±å“ï¼Œæˆ–è€…å®ƒä¼šå½±å“è‡ªèº«å±æ€§ã€‚</p><h3 id="_8-4-å†…ç½®ç±»åŸå‹å±æ€§" tabindex="-1">8.4 å†…ç½®ç±»åŸå‹å±æ€§ <a class="header-anchor" href="#_8-4-å†…ç½®ç±»åŸå‹å±æ€§" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="_8-5-â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§" tabindex="-1">8.5 â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§ <a class="header-anchor" href="#_8-5-â­ï¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DataContainer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessCount</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getData</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">accessCount</span><span style="color:#89DDFF;">++</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">data</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ å¯ä»¥çœ‹å‡ºåŸå‹ä¸Šçš„å±æ€§éƒ½æ˜¯å¯å†™å¯é…ç½®ï¼Œä¸å¯æšä¸¾çš„</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">DataContainer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype)</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ğŸš¨ æ„é€ å™¨</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> DataContainer</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  getData: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DataContainer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getData</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>ğŸ’¡è€Œå®ä¾‹å±æ€§éƒ½æ˜¯å¯å†™å¯é…ç½®å¯æšä¸¾çš„ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataContainer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(dc)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">accessCount</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="_9ï¸âƒ£-api-å±æ€§æè¿°å™¨" tabindex="-1">9ï¸âƒ£ APIï¼šå±æ€§æè¿°å™¨ <a class="header-anchor" href="#_9ï¸âƒ£-api-å±æ€§æè¿°å™¨" aria-hidden="true">#</a></h2><p>API1ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ES5</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj: object</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  key: string</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">symbol</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  propDesc: PropertyDescriptor</span></span>
<span class="line"><span style="color:#A6ACCD;">): object</span></span>
<span class="line"></span></code></pre></div><p>åˆ›å»ºæˆ–è€…æ”¹å˜ <code>obj</code> ä¸Šå±æ€§ <code>key</code>,å…¶ç‰¹æ€§é€šè¿‡ <code>propDesc</code>ã€‚è¿”å›è¢«ä¿®æ”¹çš„å¯¹è±¡ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">happy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å¯¹è±¡è¢«ä¿®æ”¹å¹¶è¿”å›</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(result</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">happy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>API2ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ES5</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj: object</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  properties: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">K</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">symbol</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> PropertyDescriptor </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">): object</span></span>
<span class="line"></span></code></pre></div><p><em><code>Object.defineProperty()</code> çš„æ‰¹é‡ç‰ˆæœ¬</em>ã€‚å¯¹è±¡å±æ€§çš„æ¯ä¸ªå±æ€§ <code>p</code> æŒ‡å®šä¸€ä¸ªè¦æ·»åŠ åˆ° obj çš„å±æ€§ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> address1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">street</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Evergreen Terrace</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">742</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>API3:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ES5</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  proto: </span><span style="color:#89DDFF;">null|</span><span style="color:#A6ACCD;">object</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  properties</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">k</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">symbol</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> PropertyDescriptor </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">): object</span></span>
<span class="line"></span></code></pre></div><p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåŸå‹ä¸º <code>proto</code> çš„å¯¹è±¡ã€‚ç„¶åï¼Œå¦‚æœæä¾›äº†ç¬¬äºŒä¸ªå¯é€‰å‚æ•° <code>properties</code>ï¼Œåˆ™ä»¥ <code>Object.defineProperties()</code> ç›¸åŒçš„æ–¹å¼ç»™æ–°å»ºçš„å¯¹è±¡æ·»åŠ å±æ€§ã€‚æœ€åè¿”å›ç»“æœã€‚æ¯”å¦‚ï¼Œä¸‹é¢ä»£ç äº§ç”Ÿå’Œä¹‹å‰ä»£ç ä¸€æ ·çš„ç»“æœï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> address2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">street</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Evergreen Terrace</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">742</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(address1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> address2)</span></span>
<span class="line"></span></code></pre></div><p>API4ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ES5</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj: Object</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  key: string</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">symbol</span></span>
<span class="line"><span style="color:#A6ACCD;">): </span><span style="color:#89DDFF;">undefined</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> PropertyDescriptor</span></span>
<span class="line"></span></code></pre></div><p>è¿”å›å¯¹è±¡ <code>obj</code> è‡ªèº«å±æ€§ <code>key</code> (<strong>éç»§æ‰¿å±æ€§</strong>) çš„æè¿°å™¨ã€‚å¦‚æœå¯¹è±¡ä¸å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™è¿”å› <code>undefined</code>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">toString</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// éè‡ªèº«å±æ€§ è¿”å›undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">toString</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>API5:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ES7</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj: Object</span></span>
<span class="line"><span style="color:#A6ACCD;">): </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">k</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">symbol</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> PropertyDescriptor </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿”å›å¯¹è±¡ <code>obj</code> è‡ªèº«æ‰€æœ‰å±æ€§æè¿°å™¨ã€‚è¿”å›ç»“æœå¯ç”¨ä½œ <code>Object.defineProperties()</code> &amp; <code>Object.create()</code> çš„è¾“å…¥ ğŸš€ğŸš€ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> propertyKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">propertyKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">propertyKey</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">123</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> desc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getOwnPropertyDescriptors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(Object)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">propertyKey</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">count</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">get</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// A</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="ğŸ”Ÿ-è¿›ä¸€æ­¥é˜…è¯»" tabindex="-1">ğŸ”Ÿ è¿›ä¸€æ­¥é˜…è¯» <a class="header-anchor" href="#ğŸ”Ÿ-è¿›ä¸€æ­¥é˜…è¯»" aria-hidden="true">#</a></h2><p>ä¸‹é¢3ä¸ªç« èŠ‚æä¾›äº†å¯¹å±æ€§ç‰¹æ€§æ›´å¤šè¯¦ç»†çš„ç»†èŠ‚ï¼š</p><ul><li><a href="https://exploringjs.com/deep-js/ch_protecting-objects.html" target="_blank" rel="noreferrer">Protecting objects from being changed</a></li><li><a href="https://exploringjs.com/deep-js/ch_protecting-objects.html" target="_blank" rel="noreferrer">Properties: assignment vs. definition</a></li><li><a href="https://exploringjs.com/deep-js/ch_protecting-objects.html" target="_blank" rel="noreferrer">Enumerability of properties</a></li></ul><p>2022å¹´07æœˆ10æ—¥10:22:25</p>`,138),e=[o];function t(c,r,D,y,F,C){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
