import{_ as s,c as n,o as a,O as l}from"./chunks/framework.103df890.js";const i=JSON.parse('{"title":"ä¿æŠ¤å¯¹è±¡ä¸è¢«ä¿®æ”¹","description":"","frontmatter":{"title":"ä¿æŠ¤å¯¹è±¡ä¸è¢«ä¿®æ”¹"},"headers":[],"relativePath":"4/Protecting-objects-from-changed.md","lastUpdated":1682474873000}'),p={name:"4/Protecting-objects-from-changed.md"},o=l(`<p>ç›®å½•ï¼š</p><nav class="table-of-contents"><ul><li><a href="#_1ï¸âƒ£-ä¿æŠ¤çº§åˆ«-é˜»æ­¢æ‰©å±•-å¯†å°-å†»ç»“">1ï¸âƒ£ ä¿æŠ¤çº§åˆ«ï¼šé˜»æ­¢æ‰©å±•ï¼Œå¯†å°ï¼Œå†»ç»“</a></li><li><a href="#_2ï¸âƒ£-é˜»æ­¢å¯¹è±¡æ‰©å±•-prevent-extensions-of-objects">2ï¸âƒ£ é˜»æ­¢å¯¹è±¡æ‰©å±•ï¼ˆPrevent extensions of objectsï¼‰</a><ul><li><a href="#_2-1-æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯æ‰©å±•">2.1 æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯æ‰©å±•</a></li></ul></li><li><a href="#_3ï¸âƒ£-å¯†å°å¯¹è±¡-sealing-objects">3ï¸âƒ£ å¯†å°å¯¹è±¡ï¼ˆSealing objectsï¼‰</a><ul><li><a href="#_3-1-æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯†å°">3.1 æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯†å°</a></li></ul></li><li><a href="#_4ï¸âƒ£-å†»ç»“å¯¹è±¡-freezing-objects">4ï¸âƒ£ å†»ç»“å¯¹è±¡ï¼ˆFreezing objectsï¼‰</a><ul><li><a href="#_4-1-æ£€æŸ¥å¯¹è±¡æ˜¯å¦è¢«å†»ç»“">4.1 æ£€æŸ¥å¯¹è±¡æ˜¯å¦è¢«å†»ç»“</a></li><li><a href="#_4-2-å†»ç»“æ˜¯æµ…å†»ç»“">4.2 å†»ç»“æ˜¯æµ…å†»ç»“</a></li><li><a href="#_4-3-â­-å®ç°æ·±åº¦å†»ç»“">4.3 â­ å®ç°æ·±åº¦å†»ç»“</a></li></ul></li><li><a href="#_5ï¸âƒ£-è¿›ä¸€æ­¥é˜…è¯»">5ï¸âƒ£ è¿›ä¸€æ­¥é˜…è¯»</a></li></ul></nav><p>æœ¬ç« æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä¿æŠ¤å¯¹è±¡ä¸è¢«ä¿®æ”¹ã€‚åŒ…å«ä¾‹å­ï¼šé˜»æ­¢å±æ€§çš„æ·»åŠ å’Œæ”¹å˜ã€‚</p><p>å‰ç½®çŸ¥è¯†ï¼š<em>ä¸Šä¸€ç« çš„å±æ€§ç‰¹æ€§</em></p><h2 id="_1ï¸âƒ£-ä¿æŠ¤çº§åˆ«-é˜»æ­¢æ‰©å±•-å¯†å°-å†»ç»“" tabindex="-1">1ï¸âƒ£ ä¿æŠ¤çº§åˆ«ï¼šé˜»æ­¢æ‰©å±•ï¼Œå¯†å°ï¼Œå†»ç»“ <a class="header-anchor" href="#_1ï¸âƒ£-ä¿æŠ¤çº§åˆ«-é˜»æ­¢æ‰©å±•-å¯†å°-å†»ç»“" aria-label="Permalink to &quot;1ï¸âƒ£ ä¿æŠ¤çº§åˆ«ï¼šé˜»æ­¢æ‰©å±•ï¼Œå¯†å°ï¼Œå†»ç»“&quot;">â€‹</a></h2><p>JSåœ¨å¯¹è±¡ä¿æŠ¤ä¸Šæœ‰3ä¸ªçº§åˆ«ï¼š(è¯‘è€…æ³¨ï¼šä¸€çº§æ¯”ä¸€çº§ä¸¥æ ¼)</p><ol><li><em>é˜»æ­¢æ‰©å±•ï¼ˆ<code>preventing extensions</code>ï¼‰</em> ä½¿å¯¹è±¡æ— æ³•æ·»åŠ æ–°çš„å±æ€§ã€‚<strong>ä½†æ˜¯æˆ‘ä»¬ä»å¯ä»¥åˆ é™¤å’Œæ”¹å˜å±æ€§ğŸš¨</strong>; <ul><li>æ–¹æ³•ï¼š <code>Object.preventExtensions(obj)</code></li></ul></li><li><em>å¯†å°ï¼ˆ<code>Sealing</code>ï¼‰</em> åœ¨é˜»æ­¢æ‰©å±•çš„åŸºç¡€ä¸Šï¼Œä¹Ÿä½¿æ‰€æœ‰å±æ€§å˜å¾— <em>ä¸å¯é…ç½®ï¼ˆ<code>unconfigurable</code>ï¼‰</em>(å³æˆ‘ä»¬ä¸èƒ½å†æ”¹å˜å±æ€§çš„ç‰¹æ€§ï¼Œé™¤äº†å°† <code>writable: true</code> ç‰¹æ€§æ›´æ”¹ä¸º <code>writable: false</code>) <ul><li>æ–¹æ³•ï¼š<code>Object.seal(obj)</code></li></ul></li><li><em>å†»ç»“ï¼ˆ<code>Freezing</code>ï¼‰</em> ä½¿æ‰€æœ‰å±æ€§å˜å¾— <em>ä¸å¯å†™ï¼ˆ<code>non-writable</code>ï¼‰</em> ä¹‹åå†å¯†å°å¯¹è±¡ã€‚å³å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œæ‰€æœ‰å±æ€§åªè¯»ï¼Œå¹¶ä¸”æ²¡æœ‰åŠæ³•æ›´æ”¹ <ul><li>æ–¹æ³•ï¼š<code>Object.freeze(obj)</code></li></ul></li></ol><h2 id="_2ï¸âƒ£-é˜»æ­¢å¯¹è±¡æ‰©å±•-prevent-extensions-of-objects" tabindex="-1">2ï¸âƒ£ é˜»æ­¢å¯¹è±¡æ‰©å±•ï¼ˆPrevent extensions of objectsï¼‰ <a class="header-anchor" href="#_2ï¸âƒ£-é˜»æ­¢å¯¹è±¡æ‰©å±•-prevent-extensions-of-objects" aria-label="Permalink to &quot;2ï¸âƒ£ é˜»æ­¢å¯¹è±¡æ‰©å±•ï¼ˆPrevent extensions of objectsï¼‰&quot;">â€‹</a></h2><p>ğŸ“’ç­¾åï¼š <code>Object.preventExtensions&lt;T&gt;(obj: T): T</code></p><p>ä½œç”¨ï¼š</p><ol><li>å¦‚æœ <code>obj</code> ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œå®ƒä¼šæ”¹å˜ <code>obj</code> å¯¼è‡´æˆ‘ä»¬ä¸èƒ½æ·»åŠ å±æ€§ï¼Œç„¶åè¿”å›è¯¥å¯¹è±¡</li><li>å‚æ•°ç±»å‹ <code>&lt;T&gt;</code> è¡¨ç¤ºè¿”å›ç»“æœå’Œå‚æ•°ç±»å‹ä¸€æ ·</li></ol><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">first</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">preventExtensions</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// è¯‘è€…æ³¨ï¼šä¸¥æ ¼æ¨¡å¼æŠ›å‡ºé”™è¯¯ æ¾æ•£æ¨¡å¼æ²¡æœ‰æ•ˆæœ</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">last </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Doe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot add property last, object is not extensible</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>æˆ‘ä»¬ä»å¯åˆ é™¤å±æ€§ğŸ˜…ï¼š</p></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEquals</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ä»å¯ä»¥åˆ é™¤å±æ€§</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">delete</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">first</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEquals</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  []</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><h3 id="_2-1-æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯æ‰©å±•" tabindex="-1">2.1 æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯æ‰©å±• <a class="header-anchor" href="#_2-1-æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯æ‰©å±•" aria-label="Permalink to &quot;2.1 æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯æ‰©å±•&quot;">â€‹</a></h3><p>ğŸ“’ ç­¾åï¼š<code>Object.isExtensible(obj: any): boolean</code></p><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isExtensible</span><span style="color:#A6ACCD;">(obj) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">preventExtensions</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isExtensible</span><span style="color:#A6ACCD;">(obj) </span><span style="color:#676E95;font-style:italic;">// false</span></span></code></pre></div><h2 id="_3ï¸âƒ£-å¯†å°å¯¹è±¡-sealing-objects" tabindex="-1">3ï¸âƒ£ å¯†å°å¯¹è±¡ï¼ˆSealing objectsï¼‰ <a class="header-anchor" href="#_3ï¸âƒ£-å¯†å°å¯¹è±¡-sealing-objects" aria-label="Permalink to &quot;3ï¸âƒ£ å¯†å°å¯¹è±¡ï¼ˆSealing objectsï¼‰&quot;">â€‹</a></h2><p>ğŸ“’ ç­¾åï¼š<code>Object.seal&lt;T&gt;(obj: T): T</code></p><p>ä½œç”¨ï¼š</p><ol><li>å¦‚æœ <code>obj</code> ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å›å®ƒ</li><li>å¦åˆ™ï¼Œå®ƒä¼šé˜»æ­¢ <code>obj</code> æ‰©å±•ï¼Œå°†æ‰€æœ‰å±æ€§å˜ä¸º <em>ä¸å¯é…ç½®ï¼ˆ<code>unconfigurable</code>ï¼‰</em>ï¼Œç„¶åè¿”å›å®ƒã€‚å±æ€§å˜å¾—ä¸å¯é…ç½®ï¼Œæ„å‘³ç€å®ƒä¸èƒ½è¢«æ”¹å˜ï¼ˆ<strong>é™¤äº†å®ƒçš„å€¼ ğŸš¨</strong>ï¼‰ï¼šåªè¯»å±æ€§ä»æ—§åªè¯»ï¼Œå¯æšä¸¾å±æ€§ä»å¯æšä¸¾ï¼Œç­‰ç­‰</li></ol><p>ğŸŒ° ä¸‹é¢ç¤ºä¾‹å±•ç¤ºäº†å¯†å°ä½¿å¾—å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œå¹¶ä¸”å…¶å±æ€§ä¸å¯é…ç½®ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">first</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">last</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Doe</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// å¯†å°å‰</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isExtensible</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">first</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">last</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Doe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// å¯†å°</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">seal</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// å¯†å°å</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isExtensible</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// ä¸å¯æ‰©å±•</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptors</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">first</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ä¸å¯é…ç½®</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">last</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Doe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>æˆ‘ä»¬å…ˆæ”¹å˜å±æ€§ <code>.first</code> çš„å€¼ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">first </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">John</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">first</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">John</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">last</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Doe</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ”¹å˜å…¶ç‰¹æ€§ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throw</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot redefine property: first</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>è¯‘è€…æ³¨ï¼š<em>ä¸å¯é…ç½®çš„å±æ€§ï¼Œå¯ä»¥å°†å…¶ <code>writable: true</code> æ”¹ä¸º <code>writable: false</code>ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸å¯é€†çš„</em>ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸Šä¸€ç« </p></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  obj</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Ok ä¸ä¼šæŠ›å‡ºé”™è¯¯</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPropertyDescriptor</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ‰“å°ç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">first</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">John</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="_3-1-æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯†å°" tabindex="-1">3.1 æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯†å° <a class="header-anchor" href="#_3-1-æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯†å°" aria-label="Permalink to &quot;3.1 æ£€æµ‹å¯¹è±¡æ˜¯å¦å¯†å°&quot;">â€‹</a></h3><p>ğŸ“’ ç­¾åï¼š<code>Object.isSealed(obj: any): boolean</code></p><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isSealed</span><span style="color:#A6ACCD;">(obj) </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">seal</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isSealed</span><span style="color:#A6ACCD;">(obj) </span><span style="color:#676E95;font-style:italic;">// true</span></span></code></pre></div><h2 id="_4ï¸âƒ£-å†»ç»“å¯¹è±¡-freezing-objects" tabindex="-1">4ï¸âƒ£ å†»ç»“å¯¹è±¡ï¼ˆFreezing objectsï¼‰ <a class="header-anchor" href="#_4ï¸âƒ£-å†»ç»“å¯¹è±¡-freezing-objects" aria-label="Permalink to &quot;4ï¸âƒ£ å†»ç»“å¯¹è±¡ï¼ˆFreezing objectsï¼‰&quot;">â€‹</a></h2><p>ğŸ“’ ç­¾åï¼š<code>Object.freeze&lt;T&gt;(obj: T): T</code></p><p>ä½œç”¨ï¼š</p><ol><li>å¦‚æœ <code>obj</code> ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å›å®ƒ</li><li>å¦åˆ™ï¼Œå®ƒä½¿å¾— <code>obj</code> ä¸Šæ‰€æœ‰å±æ€§ä¸å¯å†™ï¼Œç„¶åå¯†å° <code>obj</code>ï¼Œæœ€åè¿”å›å®ƒã€‚å³ï¼Œ<em><code>obj</code> ä¸å¯æ‰©å±•ï¼Œæ‰€æœ‰å±æ€§åªè¯»ï¼Œæ²¡æœ‰åŠæ³•æ”¹å˜å®ƒğŸ˜</em></li></ol><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> point </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">17</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">freeze</span><span style="color:#A6ACCD;">(point)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// å†»ç»“å¯¹è±¡ä¸å¯å†™ï¼Œå°è¯•æ”¹å˜åªè¯»å±æ€§ æŠ›å‡ºé”™è¯¯</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> point</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot assign to read only property &#39;x&#39;</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// å†»ç»“å¯¹è±¡ä¸å¯é…ç½®ï¼Œå°è¯•æ”¹å˜å±æ€§ç‰¹æ€§ï¼ŒæŠ›å‡ºé”™è¯¯</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(point</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot redefine property: x</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// å†»ç»“å¯¹è±¡ä¸å¯æ‰©å±• å°è¯•æ·»åŠ æ–°å±æ€§ æŠ›å‡ºé”™è¯¯</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> point</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">z </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot add property z, object is not extensible</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><h3 id="_4-1-æ£€æŸ¥å¯¹è±¡æ˜¯å¦è¢«å†»ç»“" tabindex="-1">4.1 æ£€æŸ¥å¯¹è±¡æ˜¯å¦è¢«å†»ç»“ <a class="header-anchor" href="#_4-1-æ£€æŸ¥å¯¹è±¡æ˜¯å¦è¢«å†»ç»“" aria-label="Permalink to &quot;4.1 æ£€æŸ¥å¯¹è±¡æ˜¯å¦è¢«å†»ç»“&quot;">â€‹</a></h3><p>ğŸ“’ ç­¾åï¼š<code>Object.isFrozen(obj: any): boolean</code></p><p>ğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> point </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">17</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isFrozen</span><span style="color:#A6ACCD;">(point) </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">freeze</span><span style="color:#A6ACCD;">(point) </span><span style="color:#676E95;font-style:italic;">// è¿”å›å†»ç»“åçš„å¯¹è±¡ {x: 17, y: 5}</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isFrozen</span><span style="color:#A6ACCD;">(point) </span><span style="color:#676E95;font-style:italic;">// true</span></span></code></pre></div><h3 id="_4-2-å†»ç»“æ˜¯æµ…å†»ç»“" tabindex="-1">4.2 å†»ç»“æ˜¯æµ…å†»ç»“ <a class="header-anchor" href="#_4-2-å†»ç»“æ˜¯æµ…å†»ç»“" aria-label="Permalink to &quot;4.2 å†»ç»“æ˜¯æµ…å†»ç»“&quot;">â€‹</a></h3><p>ğŸ‘©ğŸ»â€ğŸ« <code>Object.freeze(obj)</code> åªä¼šå†»ç»“ <code>obj</code> å’Œå®ƒçš„å±æ€§ï¼Œ<strong>å®ƒä¸ä¼šè¿™äº›å¯¹è±¡å±æ€§çš„å†…éƒ¨çš„å€¼</strong>ï¼ŒğŸŒ°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> teacher </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Edna Krabappel</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">students</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">freeze</span><span style="color:#A6ACCD;">(teacher)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æˆ‘ä»¬ä¸èƒ½æ”¹å˜è‡ªèº«çš„å±æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> teacher</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Elizabeth Hoover</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot assign to read only property &#39;name&#39;</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ğŸš¨ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜å¯¹è±¡å±æ€§å†…éƒ¨çš„å€¼</span></span>
<span class="line"><span style="color:#A6ACCD;">teacher</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">students</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Lisa</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deepEqual</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  teacher</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Edna Krabappel</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">students</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Lisa</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><h3 id="_4-3-â­-å®ç°æ·±åº¦å†»ç»“" tabindex="-1">4.3 â­ å®ç°æ·±åº¦å†»ç»“ <a class="header-anchor" href="#_4-3-â­-å®ç°æ·±åº¦å†»ç»“" aria-label="Permalink to &quot;4.3 â­ å®ç°æ·±åº¦å†»ç»“&quot;">â€‹</a></h3><p>å¦‚æœæˆ‘ä»¬æƒ³å®ç°æ·±åº¦å†»ç»“ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">deepFreeze</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// å¦‚æœæ˜¯å¯¹è±¡ï¼Œéå†æ¯ä¸ªå…ƒç´ ï¼Œç„¶åé€’å½’</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">deepFreeze</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">freeze</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// å¯¹æ•°ç»„è¿›è¡Œå†»ç»“</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¦‚æœ value æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">values</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// å¯¹å€¼è¿›è¡Œå†»ç»“</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">deepFreeze</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">freeze</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// å¯¹å¯¹è±¡è¿›è¡Œå†»ç»“</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä¸ç”¨åšä»€ä¹ˆï¼šå› ä¸ºåŸå§‹å€¼å·²ç»æ˜¯ä¸å¯å˜çš„äº†</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>å¯¹ä¸Šé¢çš„ <code>teacher</code> å¯¹è±¡è¿›è¡Œæ·±åº¦å†»ç»“ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> teacher </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Edna Krabappel</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">students</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">deepFreeze</span><span style="color:#A6ACCD;">(teacher)</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throws</span><span style="color:#A6ACCD;">(</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> teacher</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">students</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Lisa</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">TypeError: Cannot add property 1, object is not extensible</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="_5ï¸âƒ£-è¿›ä¸€æ­¥é˜…è¯»" tabindex="-1">5ï¸âƒ£ è¿›ä¸€æ­¥é˜…è¯» <a class="header-anchor" href="#_5ï¸âƒ£-è¿›ä¸€æ­¥é˜…è¯»" aria-label="Permalink to &quot;5ï¸âƒ£ è¿›ä¸€æ­¥é˜…è¯»&quot;">â€‹</a></h2><ul><li>æ›´å¤šå…³äºé˜»æ­¢æ•°æ®ç»“æ„è¢«æ”¹å˜å¯å‚è€ƒï¼š <a href="https://exploringjs.com/deep-js/ch_immutable-collection-wrappers.html" target="_blank" rel="noreferrer">Immutable wrappers for collections</a></li></ul><p>è¯‘è€…æ³¨ï¼š</p><ol><li>æœ¬ç« å°†çš„3ç§ä¿æŠ¤å¯¹è±¡ä¸è¢«ä¿®æ”¹çš„æ–¹å¼æ—¥å¸¸ä½¿ç”¨çš„æ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬ç¬¬ä¸‰æ–¹åº“ä¸­å¯èƒ½ä¼šä½¿ç”¨åˆ°ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ä¸€ç« å†…å®¹</li><li>å¯ä»¥å‚è€ƒ <ol><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noreferrer">Object.preventExtensions() - MDN</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/seal" target="_blank" rel="noreferrer">Object.seal() - MDN</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze" target="_blank" rel="noreferrer">Object.freeze() - MDN</a></li></ol></li><li>å…³äºå†»ç»“ä¸ºæµ…å†»ç»“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’çš„æ–¹å¼ï¼Œå®ç°æ·±åº¦å†»ç»“çš„æ–¹æ³•ğŸ˜</li></ol><p>2022å¹´07æœˆ15æ—¥22:51:09</p>`,58),e=[o];function t(c,r,D,y,F,C){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
